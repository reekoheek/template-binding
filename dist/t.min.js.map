{"version":3,"sources":["webpack:///t.min.js","webpack:///webpack/bootstrap 3a413ced4449eb1156e9","webpack:///./src/index.js","webpack:///./src/expr.js","webpack:///./src/token.js","webpack:///./src/filter.js","webpack:///./src/binding.js","webpack:///./src/accessor.js","webpack:///./src/annotation.js","webpack:///./src/event.js","webpack:///./src/serializer.js","webpack:///./src/slot.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","nextId","templateId","fixTemplate","template","content","window","HTMLTemplateElement","decorate","T","host","marker","this","__templateInitialize","__templateRender","Object","defineProperty","value","_expr","_expr2","_binding","_binding2","_accessor","_accessor2","_annotation","_annotation2","_filter","_filter2","_token","_token2","_event","_event2","_serializer","_slot","prototype","$","__templateHost","getElementsByTagName","$$","selector","querySelector","on","_Event","apply","arguments","off","_Event2","all","hasOwnProperty","set","get","path","object","__templateGetPathAsArray","some","segment","undefined","oldValue","slice","forEach","property","pop","notify","__templateGetPathAsString","__templateReady","__templateNotifyOnReady","indexOf","push","binding","__templateGetBinding","walkEffect","err","console","warn","message","stack","__templateId","__templateBindings","parentElement","__templateMarker","__template","__templateChildNodes","__templateFragment","document","importNode","__parseAnnotations","createComment","appendChild","contentFragment","_this","key","fragment","DocumentFragment","querySelectorAll","slot","name","slotName","node","slotAppend","error","insertBefore","split","join","concat","childNodes","len","nodeType","Node","ELEMENT_NODE","__parseElementAnnotations","TEXT_NODE","__parseTextAnnotations","__parseEventAnnotations","element","attrName","attrValue","getAttribute","eventName","context","expr","getFn","evt","invoke","__parseAttributeAnnotations","annotated","attributes","attr","__templateAnnotate","_this2","scoped","__templateModel","childNodesLength","__parseNodeAnnotations","textContent","accessor","_this3","type","constant","val","annotation","fn","annotations","vpaths","arg","segments","bindings","paths","Filter","Accessor","Token","Expr","Event","deserialize","_classCallCheck","instance","Constructor","TypeError","_get","mode","cache","CACHE","has","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","s","[","Map","{","v","args","filters","tokens","token","trim","map","word","matches","match","tokenize","unwrapped","str","count","substr","rawTokenize","otherArgs","reduce","filter","Error","nodeName","_vpaths","valueOf","_value","JSON","parse","others","callback","registry","splice","required","upper","String","toUpperCase","lower","toLowerCase","not","begin","end","Binding","model","effect","keys","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","BaseAccessor","endsWith","AttributeAccessor","TextAccessor","HTMLAccessor","ValueAccessor","startsWith","ClassAccessor","StyleAccessor","_BaseAccessor","_BaseAccessor2","classList","add","remove","_BaseAccessor3","style","_BaseAccessor4","innerHTML","_BaseAccessor5","activeElement","_BaseAccessor6","setAttribute","removeAttribute","Annotation","_addEvent","delegator","useCapture","addEventListener","_cancel","e","preventDefault","stopPropagation","_getMatcher","_matcher","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","EventDelegator","matchesSelector","_matchesSelector","boundElement","parentNode","_level","_addHandler","event","_handlers","_removeHandler","_handleEvent","srcElement","j","_delegatorInstances","matchesEvent","cancelBubble","cancel","_bind","events","_getGlobalCallback","HTMLElement","hasAttribute","addEvent","_id","serialize","_typeof","Date","stringify","Number","Boolean","Symbol","iterator","SLOT_SUPPORTED","root","__slotHasChildren","__slotFallbackContent","firstChild","removeChild","createElement","HTMLUnknownElement"],"mappings":"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","file":"t.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _expr = __webpack_require__(1);\n\t\n\tvar _expr2 = _interopRequireDefault(_expr);\n\t\n\tvar _binding = __webpack_require__(4);\n\t\n\tvar _binding2 = _interopRequireDefault(_binding);\n\t\n\tvar _accessor = __webpack_require__(5);\n\t\n\tvar _accessor2 = _interopRequireDefault(_accessor);\n\t\n\tvar _annotation = __webpack_require__(6);\n\t\n\tvar _annotation2 = _interopRequireDefault(_annotation);\n\t\n\tvar _filter = __webpack_require__(3);\n\t\n\tvar _filter2 = _interopRequireDefault(_filter);\n\t\n\tvar _token = __webpack_require__(2);\n\t\n\tvar _token2 = _interopRequireDefault(_token);\n\t\n\tvar _event = __webpack_require__(7);\n\t\n\tvar _event2 = _interopRequireDefault(_event);\n\t\n\tvar _serializer = __webpack_require__(8);\n\t\n\tvar _slot = __webpack_require__(9);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tvar templateId = 0;\n\tfunction nextId() {\n\t  return templateId++;\n\t}\n\t\n\tfunction fixTemplate(template) {\n\t  if (!template.content && window.HTMLTemplateElement && window.HTMLTemplateElement.decorate) {\n\t    window.HTMLTemplateElement.decorate(template);\n\t  }\n\t  return template;\n\t}\n\t\n\tfunction T(template, host, marker) {\n\t  this.__templateInitialize(template, host, marker);\n\t  this.__templateRender();\n\t}\n\t\n\tT.prototype = {\n\t  get $() {\n\t    return this.__templateHost.getElementsByTagName('*');\n\t  },\n\t\n\t  $$: function $$(selector) {\n\t    return this.querySelector(selector);\n\t  },\n\t  on: function on() {\n\t    var _Event;\n\t\n\t    (_Event = (0, _event2.default)(this.__templateHost)).on.apply(_Event, arguments);\n\t  },\n\t  off: function off() {\n\t    var _Event2;\n\t\n\t    (_Event2 = (0, _event2.default)(this.__templateHost)).off.apply(_Event2, arguments);\n\t  },\n\t  all: function all(obj) {\n\t    for (var i in obj) {\n\t      if (obj.hasOwnProperty(i)) {\n\t        this.set(i, obj[i]);\n\t      }\n\t    }\n\t  },\n\t  get: function get(path) {\n\t    var object = this;\n\t\n\t    this.__templateGetPathAsArray(path).some(function (segment) {\n\t      if (object === undefined || object === null) {\n\t        object = undefined;\n\t        return true;\n\t      }\n\t\n\t      object = object[segment];\n\t      return false;\n\t    });\n\t\n\t    return object;\n\t  },\n\t  set: function set(path, value) {\n\t    path = this.__templateGetPathAsArray(path);\n\t\n\t    var oldValue = this.get(path);\n\t\n\t    if (value === oldValue) {\n\t      return;\n\t    }\n\t\n\t    var object = this;\n\t\n\t    path.slice(0, -1).forEach(function (segment) {\n\t      if (!object) {\n\t        return;\n\t      }\n\t      if (object[segment] === undefined || object[segment] === null) {\n\t        object[segment] = {};\n\t      }\n\t\n\t      object = object[segment];\n\t    });\n\t\n\t    var property = path.slice(-1).pop();\n\t\n\t    object[property] = value;\n\t\n\t    this.notify(path, value);\n\t  },\n\t  notify: function notify(path, value) {\n\t    path = this.__templateGetPathAsString(path);\n\t\n\t    if (!this.__templateReady) {\n\t      if (this.__templateNotifyOnReady.indexOf(path) === -1) {\n\t        this.__templateNotifyOnReady.push(path);\n\t      }\n\t      return;\n\t    }\n\t\n\t    try {\n\t      var binding = this.__templateGetBinding(path);\n\t      if (binding) {\n\t        if (typeof value === 'undefined') {\n\t          value = this.get(path);\n\t        }\n\t\n\t        binding.walkEffect(value);\n\t      }\n\t    } catch (err) {\n\t      console.warn('#notify caught error: ' + err.message + '\\n Stack trace: ' + err.stack);\n\t    }\n\t  },\n\t  __templateInitialize: function __templateInitialize(template, host, marker) {\n\t    this.__templateId = nextId();\n\t    this.__templateBindings = {};\n\t    this.__templateHost = host || (template ? template.parentElement : null);\n\t    this.__templateMarker = marker;\n\t\n\t    this.__templateReady = false;\n\t    this.__templateNotifyOnReady = [];\n\t\n\t    if (!template) {\n\t      return;\n\t    }\n\t\n\t    // do below only if template is exists\n\t    this.__template = fixTemplate(template);\n\t    this.__templateChildNodes = [];\n\t\n\t    this.__templateFragment = document.importNode(this.__template.content, true);\n\t    this.__parseAnnotations();\n\t\n\t    if (marker) {\n\t      return;\n\t    }\n\t\n\t    if (this.__template.parentElement === this.__templateHost) {\n\t      // when template parent is template host, it means that template is specific template\n\t      // then use template as marker\n\t      this.__templateMarker = this.__template;\n\t    } else {\n\t      // when template is not child of host, put marker to host\n\t      this.__templateMarker = document.createComment('marker-' + this.__templateId);\n\t      this.__templateHost.appendChild(this.__templateMarker);\n\t    }\n\t  },\n\t  __templateRender: function __templateRender(contentFragment) {\n\t    var _this = this;\n\t\n\t    this.__templateReady = true;\n\t\n\t    if (!this.__template) {\n\t      return;\n\t    }\n\t\n\t    this.__templateNotifyOnReady.forEach(function (key) {\n\t      return _this.notify(key, _this.get(key));\n\t    });\n\t    this.__templateNotifyOnReady = [];\n\t\n\t    var fragment = this.__templateFragment;\n\t    this.__templateFragment = null;\n\t\n\t    if (contentFragment && contentFragment instanceof window.DocumentFragment) {\n\t      try {\n\t        [].forEach.call(fragment.querySelectorAll('slot'), function (slot) {\n\t          var name = (0, _slot.slotName)(slot);\n\t          var node = name ? contentFragment.querySelectorAll('[slot=\"' + name + '\"]') : contentFragment;\n\t          (0, _slot.slotAppend)(slot, node, fragment);\n\t        });\n\t      } catch (err) {\n\t        console.error(err.stack);\n\t        throw err;\n\t      }\n\t    }\n\t\n\t    this.__templateMarker.parentElement.insertBefore(fragment, this.__templateMarker);\n\t  },\n\t\n\t\n\t  // __templateUninitialize () {\n\t  //   this.__templateChildNodes.forEach(node => {\n\t  //     node.parentElement.removeChild(node);\n\t  //   });\n\t  // },\n\t\n\t  __templateGetPathAsArray: function __templateGetPathAsArray(path) {\n\t    // if (!path) {\n\t    //   throw new Error(`Unknown path ${path} to set to ${this.is}`);\n\t    // }\n\t\n\t    if (typeof path !== 'string') {\n\t      return path;\n\t    }\n\t\n\t    return path.split('.');\n\t  },\n\t  __templateGetPathAsString: function __templateGetPathAsString(path) {\n\t    if (typeof path === 'string') {\n\t      return path;\n\t    }\n\t\n\t    return path.join('.');\n\t  },\n\t  __parseAnnotations: function __parseAnnotations() {\n\t    this.__templateChildNodes = [].concat(_toConsumableArray(this.__templateFragment.childNodes));\n\t\n\t    var len = this.__templateChildNodes.length;\n\t\n\t    for (var i = 0; i < len; i++) {\n\t      var node = this.__templateChildNodes[i];\n\t\n\t      switch (node.nodeType) {\n\t        case window.Node.ELEMENT_NODE:\n\t          this.__parseElementAnnotations(node);\n\t          break;\n\t        case window.Node.TEXT_NODE:\n\t          this.__parseTextAnnotations(node);\n\t          break;\n\t      }\n\t    }\n\t  },\n\t  __parseEventAnnotations: function __parseEventAnnotations(element, attrName) {\n\t    // bind event annotation\n\t    var attrValue = element.getAttribute(attrName);\n\t    var eventName = attrName.slice(1, -1);\n\t    // let eventName = attrName.substr(3);\n\t    if (eventName === 'tap') {\n\t      eventName = 'click';\n\t    }\n\t\n\t    var context = this;\n\t    var expr = _expr2.default.getFn(attrValue, [], true);\n\t\n\t    this.on(eventName, element, function (evt) {\n\t      expr.invoke(context, { evt: evt });\n\t    });\n\t  },\n\t  __parseAttributeAnnotations: function __parseAttributeAnnotations(element) {\n\t    // clone attributes to array first then foreach because we will remove\n\t    // attribute later if already processed\n\t    // this hack to make sure when attribute removed the attributes index doesnt shift.\n\t    var annotated = false;\n\t\n\t    var len = element.attributes.length;\n\t\n\t    for (var i = 0; i < len; i++) {\n\t      var attr = element.attributes[i];\n\t\n\t      var attrName = attr.name;\n\t\n\t      if (attrName.indexOf('(') === 0) {\n\t        this.__parseEventAnnotations(element, attrName);\n\t      } else {\n\t        // bind property annotation\n\t        annotated = this.__templateAnnotate(_expr2.default.get(attr.value), _accessor2.default.get(element, attrName)) || annotated;\n\t      }\n\t    }\n\t\n\t    return annotated;\n\t  },\n\t  __parseElementAnnotations: function __parseElementAnnotations(element) {\n\t    var _this2 = this;\n\t\n\t    var annotated = false;\n\t\n\t    var scoped = element.__templateModel;\n\t\n\t    if (scoped) {\n\t      return annotated;\n\t    }\n\t\n\t    element.__templateModel = this;\n\t\n\t    if (element.attributes && element.attributes.length) {\n\t      annotated = this.__parseAttributeAnnotations(element) || annotated;\n\t    }\n\t\n\t    if (element.childNodes && element.childNodes.length) {\n\t      var childNodes = [].slice.call(element.childNodes);\n\t      var childNodesLength = childNodes.length;\n\t\n\t      for (var i = 0; i < childNodesLength; i++) {\n\t        annotated = this.__parseNodeAnnotations(childNodes[i]) || annotated;\n\t      }\n\t    }\n\t\n\t    [].forEach.call(element.getElementsByTagName('slot'), function (slot) {\n\t      [].forEach.call(slot.childNodes, function (node) {\n\t        annotated = _this2.__parseNodeAnnotations(node) || annotated;\n\t      });\n\t    });\n\t\n\t    return annotated;\n\t  },\n\t  __parseNodeAnnotations: function __parseNodeAnnotations(node) {\n\t    switch (node.nodeType) {\n\t      case window.Node.TEXT_NODE:\n\t        return this.__parseTextAnnotations(node);\n\t      case window.Node.ELEMENT_NODE:\n\t        return this.__parseElementAnnotations(node);\n\t    }\n\t  },\n\t  __parseTextAnnotations: function __parseTextAnnotations(node) {\n\t    var expr = _expr2.default.get(node.textContent);\n\t    var accessor = _accessor2.default.get(node);\n\t    return this.__templateAnnotate(expr, accessor);\n\t  },\n\t  __templateAnnotate: function __templateAnnotate(expr, accessor) {\n\t    var _this3 = this;\n\t\n\t    if (expr.type === 's') {\n\t      return false;\n\t    }\n\t\n\t    if (expr.constant) {\n\t      var val = expr.invoke(this);\n\t      accessor.set(val);\n\t      return false;\n\t    }\n\t\n\t    // annotate every paths\n\t    var annotation = new _annotation2.default(this, expr, accessor);\n\t\n\t    if (expr.type === 'm') {\n\t      this.__templateGetBinding(expr.fn.name).annotations.push(annotation);\n\t    }\n\t\n\t    expr.vpaths.forEach(function (arg) {\n\t      return _this3.__templateGetBinding(arg.name).annotations.push(annotation);\n\t    });\n\t\n\t    return true;\n\t  },\n\t  __templateGetBinding: function __templateGetBinding(path) {\n\t    var segments = path.split('.');\n\t    var bindings = void 0;\n\t    var binding = void 0;\n\t\n\t    for (var i = 0; i < segments.length; i++) {\n\t      var segment = segments[i];\n\t\n\t      bindings = binding ? binding.paths : this.__templateBindings;\n\t\n\t      if (!bindings[segment]) {\n\t        bindings[segment] = new _binding2.default(this, segment);\n\t      }\n\t\n\t      binding = bindings[segment];\n\t    }\n\t\n\t    return binding;\n\t  }\n\t};\n\t\n\tT.Filter = _filter2.default;\n\tT.Accessor = _accessor2.default;\n\tT.Token = _token2.default;\n\tT.Expr = _expr2.default;\n\tT.Event = _event2.default;\n\tT.deserialize = _serializer.deserialize;\n\t\n\twindow.T = T;\n\t\n\texports.default = T;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _token = __webpack_require__(2);\n\t\n\tvar _token2 = _interopRequireDefault(_token);\n\t\n\tvar _filter = __webpack_require__(3);\n\t\n\tvar _filter2 = _interopRequireDefault(_filter);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar CACHE = {\n\t  's': {\n\t    '[': new Map(),\n\t    '{': new Map()\n\t  },\n\t  'v': {\n\t    '[': new Map(),\n\t    '{': new Map()\n\t  }\n\t};\n\t\n\tfunction _get(value, mode, type) {\n\t  var cache = CACHE[type][mode];\n\t  if (cache.has(value)) {\n\t    return cache.get(value);\n\t  }\n\t\n\t  var expr = new Expr(value, mode, type);\n\t  if (type !== 's') {\n\t    cache.set(value, expr);\n\t  }\n\t\n\t  return expr;\n\t}\n\t\n\tvar Expr = function () {\n\t  _createClass(Expr, null, [{\n\t    key: 'get',\n\t    value: function get(value, unwrapped) {\n\t      value = (value || '').trim();\n\t\n\t      if (unwrapped) {\n\t        return _get(value, '[', 'v');\n\t      }\n\t\n\t      var mode = value[0];\n\t      if ((mode === '[' || mode === '{') && value[1] === mode) {\n\t        value = value.slice(2, -2).trim();\n\t        return _get(value, mode, 'v');\n\t      }\n\t\n\t      return _get(value, '[', 's');\n\t    }\n\t  }, {\n\t    key: 'getFn',\n\t    value: function getFn(value, args, unwrapped) {\n\t      return Expr.get(value.indexOf('(') === -1 ? value + '(' + args.join(', ') + ')' : value, unwrapped);\n\t    }\n\t  }, {\n\t    key: 'rawTokenize',\n\t    value: function rawTokenize(str) {\n\t      var count = 0;\n\t      var tokens = [];\n\t\n\t      while (str && count++ < 10) {\n\t        var matches = str.match(/^\\s*(\"[^\"]*\"|[^,]+),?/);\n\t\n\t        str = str.substr(matches[0].length);\n\t        tokens.push(matches[1].trim());\n\t      }\n\t\n\t      return tokens;\n\t    }\n\t  }, {\n\t    key: 'tokenize',\n\t    value: function tokenize(str) {\n\t      return Expr.rawTokenize(str).map(function (token) {\n\t        return _token2.default.get(token);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'CACHE',\n\t    get: function get() {\n\t      return CACHE;\n\t    }\n\t  }]);\n\t\n\t  function Expr(value, mode, type) {\n\t    _classCallCheck(this, Expr);\n\t\n\t    // define base properties\n\t    this.mode = mode;\n\t    this.type = type;\n\t    this.name = '';\n\t    this.args = [];\n\t    this.filters = [];\n\t    this.value = value;\n\t\n\t    if (type === 's') {\n\t      return;\n\t    }\n\t\n\t    var tokens = value.split('|');\n\t    var token = tokens[0].trim();\n\t\n\t    this.filters = tokens.slice(1).map(function (word) {\n\t      return _filter2.default.get(word.trim());\n\t    });\n\t\n\t    if (token.indexOf('(') < 0) {\n\t      this.type = 'p';\n\t      this.name = token;\n\t      this.args.push(_token2.default.get(token));\n\t    } else {\n\t      // force mode to '[' when type is !p\n\t      this.mode = '[';\n\t      this.type = 'm';\n\t\n\t      var matches = token.match(/([^(]+)\\(([^)]*)\\)/);\n\t\n\t      this.name = matches[1].trim();\n\t      this.fn = _token2.default.get(this.name);\n\t\n\t      this.args = Expr.tokenize(matches[2]);\n\t    }\n\t  }\n\t\n\t  _createClass(Expr, [{\n\t    key: 'invoke',\n\t    value: function invoke(context, otherArgs) {\n\t      if (this.type === 'p') {\n\t        var val = this.args[0].value(context, otherArgs);\n\t        return this.filters.reduce(function (val, filter) {\n\t          return filter.invoke(val);\n\t        }, val);\n\t      }\n\t\n\t      var fn = this.fn.value(context, context.__templateHost);\n\t      if (typeof fn !== 'function') {\n\t        throw new Error('Method is not eligible, ' + (context.__templateHost.nodeName || '$anonymous') + '#' + this.name);\n\t      }\n\t\n\t      var args = this.args.map(function (arg) {\n\t        return arg.value(context, otherArgs);\n\t      });\n\t\n\t      return fn.apply(context, args);\n\t    }\n\t  }, {\n\t    key: 'constant',\n\t    get: function get() {\n\t      return this.type !== 'm' && this.vpaths.length !== this.args.length;\n\t    }\n\t  }, {\n\t    key: 'vpaths',\n\t    get: function get() {\n\t      var _this = this;\n\t\n\t      if (!this._vpaths) {\n\t        (function () {\n\t          var paths = [];\n\t          _this.args.forEach(function (arg) {\n\t            if (arg.type === 'v' && paths.indexOf(arg.name) === -1) {\n\t              paths.push(arg);\n\t            }\n\t          });\n\t          _this._vpaths = paths;\n\t        })();\n\t      }\n\t\n\t      return this._vpaths;\n\t    }\n\t  }]);\n\t\n\t  return Expr;\n\t}();\n\t\n\texports.default = Expr;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar CACHE = new Map();\n\t\n\tvar Token = function () {\n\t  _createClass(Token, null, [{\n\t    key: 'get',\n\t    value: function get(name) {\n\t      if (CACHE.has(name)) {\n\t        return CACHE.get(name);\n\t      }\n\t\n\t      var token = new Token(name);\n\t      CACHE.set(name, token);\n\t      return token;\n\t    }\n\t  }, {\n\t    key: 'CACHE',\n\t    get: function get() {\n\t      return CACHE;\n\t    }\n\t  }]);\n\t\n\t  function Token(name) {\n\t    _classCallCheck(this, Token);\n\t\n\t    this.name = name;\n\t    try {\n\t      this._value = JSON.parse(this.name);\n\t      this.type = 's';\n\t    } catch (err) {\n\t      this._value = null;\n\t      this.type = 'v';\n\t    }\n\t  }\n\t\n\t  _createClass(Token, [{\n\t    key: 'value',\n\t    value: function value(context, others) {\n\t      context = context || window;\n\t\n\t      if (this.type === 's') {\n\t        return this._value;\n\t      }\n\t\n\t      var val = valueOf(context, this.name);\n\t      if (typeof val !== 'undefined') {\n\t        return val;\n\t      }\n\t\n\t      val = valueOf(others, this.name);\n\t      if (typeof val !== 'undefined') {\n\t        return val;\n\t      }\n\t\n\t      return;\n\t    }\n\t  }]);\n\t\n\t  return Token;\n\t}();\n\t\n\tfunction valueOf(context, key) {\n\t  if (context) {\n\t    return typeof context.get === 'function' ? context.get(key) : context[key];\n\t  }\n\t}\n\t\n\texports.default = Token;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Filter = function () {\n\t  function Filter(name, callback, otherArgs) {\n\t    _classCallCheck(this, Filter);\n\t\n\t    this.name = name;\n\t    this.callback = callback;\n\t    this.otherArgs = otherArgs;\n\t  }\n\t\n\t  _createClass(Filter, [{\n\t    key: 'invoke',\n\t    value: function invoke(val) {\n\t      var args = [val];\n\t      [].push.apply(args, this.otherArgs);\n\t      return this.callback.apply(null, args);\n\t    }\n\t  }], [{\n\t    key: 'put',\n\t    value: function put(name, callback) {\n\t      registry[name] = callback;\n\t    }\n\t  }, {\n\t    key: 'get',\n\t    value: function get(name) {\n\t      var segments = name.split(':');\n\t      var args = segments.splice(1);\n\t      var key = segments.pop();\n\t      return new Filter(key, registry[key], args);\n\t    }\n\t  }]);\n\t\n\t  return Filter;\n\t}();\n\t\n\tvar registry = {\n\t  required: function required(val) {\n\t    if (val === undefined || val === null || val === '') {\n\t      throw new Error('Value is required');\n\t    }\n\t    return val;\n\t  },\n\t  upper: function upper(val) {\n\t    return String.prototype.toUpperCase.call(val || '');\n\t  },\n\t  lower: function lower(val) {\n\t    return String.prototype.toLowerCase.call(val || '');\n\t  },\n\t  not: function not(val) {\n\t    return !val;\n\t  },\n\t  slice: function slice(val, begin, end) {\n\t    return Array.prototype.slice.call(val || [], begin, end);\n\t  }\n\t};\n\t\n\texports.default = Filter;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Binding = function () {\n\t  function Binding(context, model) {\n\t    _classCallCheck(this, Binding);\n\t\n\t    this.context = context;\n\t    this.model = model;\n\t    this.paths = {};\n\t    this.annotations = [];\n\t  }\n\t\n\t  _createClass(Binding, [{\n\t    key: \"walkEffect\",\n\t    value: function walkEffect(value) {\n\t      var _this = this;\n\t\n\t      this.annotations.forEach(function (annotation) {\n\t        // try {\n\t        annotation.effect(value, _this.model);\n\t        // } catch (err) {\n\t        //   console.error(`Error caught while walk effect annotation: ${annotation.expr ? annotation.expr.value : '#unknown'}\\n ${err.stack}`);\n\t        // }\n\t      });\n\t\n\t      Object.keys(this.paths).forEach(function (i) {\n\t        _this.paths[i].walkEffect(value ? value[i] : undefined);\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return Binding;\n\t}();\n\t\n\texports.default = Binding;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar BaseAccessor = function () {\n\t  _createClass(BaseAccessor, null, [{\n\t    key: 'get',\n\t    value: function get(node, name) {\n\t      if (node && 'nodeType' in node) {\n\t        switch (node.nodeType) {\n\t          case window.Node.ELEMENT_NODE:\n\t            if (name.endsWith('$')) {\n\t              return new AttributeAccessor(node, name);\n\t            } else if (name === 'text') {\n\t              return new TextAccessor(node);\n\t            } else if (name === 'html') {\n\t              return new HTMLAccessor(node, name);\n\t            } else if (name === 'value' && node.nodeName === 'INPUT') {\n\t              return new ValueAccessor(node);\n\t            }\n\t\n\t            if (name.startsWith('class.')) {\n\t              return new ClassAccessor(node, name.split('.').splice(1).join('.'));\n\t            } else if (name.startsWith('style.')) {\n\t              return new StyleAccessor(node, name.split('.').splice(1).join('.'));\n\t            }\n\t\n\t            return new BaseAccessor(node, name);\n\t          case window.Node.TEXT_NODE:\n\t            if (node.parentElement && node.parentElement.nodeName === 'TEXTAREA') {\n\t              return new ValueAccessor(node.parentElement);\n\t            }\n\t\n\t            return new TextAccessor(node);\n\t          default:\n\t            throw new Error('Unimplemented resolving accessor for nodeType: ' + node.nodeType);\n\t        }\n\t      } else {\n\t        return new BaseAccessor(node, name);\n\t      }\n\t    }\n\t  }]);\n\t\n\t  function BaseAccessor(node, name) {\n\t    _classCallCheck(this, BaseAccessor);\n\t\n\t    this.node = node;\n\t    this.name = name;\n\t  }\n\t\n\t  _createClass(BaseAccessor, [{\n\t    key: 'set',\n\t    value: function set(value) {\n\t      if (typeof this.node.set === 'function') {\n\t        this.node.set(this.name, value);\n\t      } else {\n\t        this.node[this.name] = value;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'get',\n\t    value: function get() {\n\t      if (typeof this.node.get === 'function') {\n\t        return this.node.get(this.name);\n\t      } else {\n\t        return this.node[this.name];\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return BaseAccessor;\n\t}();\n\t\n\tvar TextAccessor = function (_BaseAccessor) {\n\t  _inherits(TextAccessor, _BaseAccessor);\n\t\n\t  function TextAccessor(node) {\n\t    _classCallCheck(this, TextAccessor);\n\t\n\t    return _possibleConstructorReturn(this, (TextAccessor.__proto__ || Object.getPrototypeOf(TextAccessor)).call(this, node, 'textContent'));\n\t  }\n\t\n\t  _createClass(TextAccessor, [{\n\t    key: 'set',\n\t    value: function set(value) {\n\t      this.node.textContent = typeof value === 'undefined' ? '' : value;\n\t    }\n\t  }]);\n\t\n\t  return TextAccessor;\n\t}(BaseAccessor);\n\t\n\tvar ClassAccessor = function (_BaseAccessor2) {\n\t  _inherits(ClassAccessor, _BaseAccessor2);\n\t\n\t  function ClassAccessor() {\n\t    _classCallCheck(this, ClassAccessor);\n\t\n\t    return _possibleConstructorReturn(this, (ClassAccessor.__proto__ || Object.getPrototypeOf(ClassAccessor)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(ClassAccessor, [{\n\t    key: 'set',\n\t    value: function set(value) {\n\t      if (value) {\n\t        this.node.classList.add(this.name);\n\t      } else {\n\t        this.node.classList.remove(this.name);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'get',\n\t    value: function get() {\n\t      throw new Error('Unimplemented');\n\t    }\n\t  }]);\n\t\n\t  return ClassAccessor;\n\t}(BaseAccessor);\n\t\n\tvar StyleAccessor = function (_BaseAccessor3) {\n\t  _inherits(StyleAccessor, _BaseAccessor3);\n\t\n\t  function StyleAccessor() {\n\t    _classCallCheck(this, StyleAccessor);\n\t\n\t    return _possibleConstructorReturn(this, (StyleAccessor.__proto__ || Object.getPrototypeOf(StyleAccessor)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(StyleAccessor, [{\n\t    key: 'set',\n\t    value: function set(value) {\n\t      this.node.style[this.name] = value || '';\n\t    }\n\t  }, {\n\t    key: 'get',\n\t    value: function get() {\n\t      throw new Error('Unimplemented');\n\t    }\n\t  }]);\n\t\n\t  return StyleAccessor;\n\t}(BaseAccessor);\n\t\n\tvar HTMLAccessor = function (_BaseAccessor4) {\n\t  _inherits(HTMLAccessor, _BaseAccessor4);\n\t\n\t  function HTMLAccessor() {\n\t    _classCallCheck(this, HTMLAccessor);\n\t\n\t    return _possibleConstructorReturn(this, (HTMLAccessor.__proto__ || Object.getPrototypeOf(HTMLAccessor)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(HTMLAccessor, [{\n\t    key: 'set',\n\t    value: function set(value) {\n\t      this.node.innerHTML = typeof value === 'undefined' ? '' : value;\n\t    }\n\t  }, {\n\t    key: 'get',\n\t    value: function get() {\n\t      return this.node.innerHTML;\n\t    }\n\t  }]);\n\t\n\t  return HTMLAccessor;\n\t}(BaseAccessor);\n\t\n\tvar ValueAccessor = function (_BaseAccessor5) {\n\t  _inherits(ValueAccessor, _BaseAccessor5);\n\t\n\t  function ValueAccessor(node) {\n\t    _classCallCheck(this, ValueAccessor);\n\t\n\t    return _possibleConstructorReturn(this, (ValueAccessor.__proto__ || Object.getPrototypeOf(ValueAccessor)).call(this, node, 'value'));\n\t  }\n\t\n\t  _createClass(ValueAccessor, [{\n\t    key: 'set',\n\t    value: function set(value) {\n\t      if (document.activeElement !== this.node) {\n\t        _get(ValueAccessor.prototype.__proto__ || Object.getPrototypeOf(ValueAccessor.prototype), 'set', this).call(this, typeof value === 'undefined' ? '' : value);\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return ValueAccessor;\n\t}(BaseAccessor);\n\t\n\tvar AttributeAccessor = function (_BaseAccessor6) {\n\t  _inherits(AttributeAccessor, _BaseAccessor6);\n\t\n\t  function AttributeAccessor(node, name) {\n\t    _classCallCheck(this, AttributeAccessor);\n\t\n\t    return _possibleConstructorReturn(this, (AttributeAccessor.__proto__ || Object.getPrototypeOf(AttributeAccessor)).call(this, node, name.slice(0, -1)));\n\t  }\n\t\n\t  _createClass(AttributeAccessor, [{\n\t    key: 'set',\n\t    value: function set(value) {\n\t      if (value) {\n\t        this.node.setAttribute(this.name, value);\n\t      } else {\n\t        this.node.removeAttribute(this.name);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'get',\n\t    value: function get() {\n\t      return this.node.getAttribute(this.name);\n\t    }\n\t  }]);\n\t\n\t  return AttributeAccessor;\n\t}(BaseAccessor);\n\t\n\texports.default = BaseAccessor;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Annotation = function () {\n\t  function Annotation(model, expr, accessor) {\n\t    _classCallCheck(this, Annotation);\n\t\n\t    this.model = model;\n\t    this.expr = expr;\n\t    this.accessor = accessor;\n\t  }\n\t\n\t  _createClass(Annotation, [{\n\t    key: \"effect\",\n\t    value: function effect(value) {\n\t      if (this.accessor) {\n\t        var _value = this.expr.invoke(this.model);\n\t        // FIXME implement composite annotation\n\t        this.accessor.set(_value);\n\t      } else {\n\t        this.expr.invoke(this.model);\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Annotation;\n\t}();\n\t\n\texports.default = Annotation;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar _matcher = void 0;\n\tvar _level = 0;\n\tvar _id = 0;\n\tvar _handlers = {};\n\tvar _delegatorInstances = {};\n\t\n\tfunction _addEvent(delegator, type, callback) {\n\t  // blur and focus do not bubble up but if you use event capturing\n\t  // then you will get them\n\t  var useCapture = type === 'blur' || type === 'focus';\n\t  delegator.element.addEventListener(type, callback, useCapture);\n\t}\n\t\n\tfunction _cancel(e) {\n\t  e.preventDefault();\n\t  e.stopPropagation();\n\t}\n\t\n\t/**\n\t * returns function to use for determining if an element\n\t * matches a query selector\n\t *\n\t * @returns {Function}\n\t */\n\tfunction _getMatcher(element) {\n\t  if (_matcher) {\n\t    return _matcher;\n\t  }\n\t\n\t  if (element.matches) {\n\t    _matcher = element.matches;\n\t    return _matcher;\n\t  }\n\t\n\t  if (element.webkitMatchesSelector) {\n\t    _matcher = element.webkitMatchesSelector;\n\t    return _matcher;\n\t  }\n\t\n\t  if (element.mozMatchesSelector) {\n\t    _matcher = element.mozMatchesSelector;\n\t    return _matcher;\n\t  }\n\t\n\t  if (element.msMatchesSelector) {\n\t    _matcher = element.msMatchesSelector;\n\t    return _matcher;\n\t  }\n\t\n\t  if (element.oMatchesSelector) {\n\t    _matcher = element.oMatchesSelector;\n\t    return _matcher;\n\t  }\n\t\n\t  // if it doesn't match a native browser method\n\t  // fall back to the delegator function\n\t  _matcher = EventDelegator.matchesSelector;\n\t  return _matcher;\n\t}\n\t\n\t/**\n\t * determines if the specified element matches a given selector\n\t *\n\t * @param {Node} element - the element to compare against the selector\n\t * @param {string} selector\n\t * @param {Node} boundElement - the element the listener was attached to\n\t * @returns {void|Node}\n\t */\n\tfunction _matchesSelector(element, selector, boundElement) {\n\t  // no selector means this event was bound directly to this element\n\t  if (selector === '_root') {\n\t    return boundElement;\n\t  }\n\t\n\t  // if we have moved up to the element you bound the event to\n\t  // then we have come too far\n\t  if (element === boundElement) {\n\t    return;\n\t  }\n\t\n\t  // if this is a match then we are done!\n\t  if (_getMatcher(element).call(element, selector)) {\n\t    return element;\n\t  }\n\t\n\t  // if this element did not match but has a parent we should try\n\t  // going up the tree to see if any of the parent elements match\n\t  // for example if you are looking for a click on an <a> tag but there\n\t  // is a <span> inside of the a tag that it is the target,\n\t  // it should still work\n\t  if (element.parentNode) {\n\t    _level++;\n\t    return _matchesSelector(element.parentNode, selector, boundElement);\n\t  }\n\t}\n\t\n\tfunction _addHandler(delegator, event, selector, callback) {\n\t  if (!_handlers[delegator.id]) {\n\t    _handlers[delegator.id] = {};\n\t  }\n\t\n\t  if (!_handlers[delegator.id][event]) {\n\t    _handlers[delegator.id][event] = {};\n\t  }\n\t\n\t  if (!_handlers[delegator.id][event][selector]) {\n\t    _handlers[delegator.id][event][selector] = [];\n\t  }\n\t\n\t  _handlers[delegator.id][event][selector].push(callback);\n\t}\n\t\n\tfunction _removeHandler(delegator, event, selector, callback) {\n\t  // if there are no events tied to this element at all\n\t  // then don't do anything\n\t  if (!_handlers[delegator.id]) {\n\t    return;\n\t  }\n\t\n\t  // if there is no event type specified then remove all events\n\t  // example: EventDelegator(element).off()\n\t  if (!event) {\n\t    for (var type in _handlers[delegator.id]) {\n\t      if (_handlers[delegator.id].hasOwnProperty(type)) {\n\t        _handlers[delegator.id][type] = {};\n\t      }\n\t    }\n\t    return;\n\t  }\n\t\n\t  // if no callback or selector is specified remove all events of this type\n\t  // example: EventDelegator(element).off('click')\n\t  if (!callback && !selector) {\n\t    _handlers[delegator.id][event] = {};\n\t    return;\n\t  }\n\t\n\t  // if a selector is specified but no callback remove all events\n\t  // for this selector\n\t  // example: EventDelegator(element).off('click', '.sub-element')\n\t  if (!callback) {\n\t    delete _handlers[delegator.id][event][selector];\n\t    return;\n\t  }\n\t\n\t  // if we have specified an event type, selector, and callback then we\n\t  // need to make sure there are callbacks tied to this selector to\n\t  // begin with.  if there aren't then we can stop here\n\t  if (!_handlers[delegator.id][event][selector]) {\n\t    return;\n\t  }\n\t\n\t  // if there are then loop through all the callbacks and if we find\n\t  // one that matches remove it from the array\n\t  for (var i = 0; i < _handlers[delegator.id][event][selector].length; i++) {\n\t    if (_handlers[delegator.id][event][selector][i] === callback) {\n\t      _handlers[delegator.id][event][selector].splice(i, 1);\n\t      break;\n\t    }\n\t  }\n\t}\n\t\n\tfunction _handleEvent(id, e, type) {\n\t  if (!_handlers[id][type]) {\n\t    return;\n\t  }\n\t\n\t  var target = e.target || e.srcElement;\n\t  var selector = void 0;\n\t  var match = void 0;\n\t  var matches = {};\n\t  var i = 0;\n\t  var j = 0;\n\t\n\t  // find all events that match\n\t  _level = 0;\n\t  for (selector in _handlers[id][type]) {\n\t    if (_handlers[id][type].hasOwnProperty(selector)) {\n\t      match = _matchesSelector(target, selector, _delegatorInstances[id].element);\n\t\n\t      if (match && EventDelegator.matchesEvent(type, _delegatorInstances[id].element, match, selector === '_root', e)) {\n\t        _level++;\n\t        _handlers[id][type][selector].match = match;\n\t        matches[_level] = _handlers[id][type][selector];\n\t      }\n\t    }\n\t  }\n\t\n\t  // stopPropagation() fails to set cancelBubble to true in Webkit\n\t  // @see http://code.google.com/p/chromium/issues/detail?id=162270\n\t  e.stopPropagation = function () {\n\t    e.cancelBubble = true;\n\t  };\n\t\n\t  for (i = 0; i <= _level; i++) {\n\t    if (matches[i]) {\n\t      for (j = 0; j < matches[i].length; j++) {\n\t        if (matches[i][j].call(matches[i].match, e) === false) {\n\t          EventDelegator.cancel(e);\n\t          return;\n\t        }\n\t\n\t        if (e.cancelBubble) {\n\t          return;\n\t        }\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\tvar id = 0;\n\tfunction nextId() {\n\t  return id++;\n\t}\n\t\n\t/**\n\t * binds the specified events to the element\n\t *\n\t * @param {string|Array} events\n\t * @param {string} selector\n\t * @param {Function} callback\n\t * @param {boolean=} remove\n\t * @returns {Object}\n\t */\n\tfunction _bind(events, selector, callback, remove) {\n\t  // fail silently if you pass null or undefined as an alement\n\t  // in the EventDelegator constructor\n\t  if (!this.element) {\n\t    return;\n\t  }\n\t\n\t  if (!(events instanceof Array)) {\n\t    events = [events];\n\t  }\n\t\n\t  if (!callback && typeof selector === 'function') {\n\t    callback = selector;\n\t    selector = '_root';\n\t  }\n\t\n\t  if (selector instanceof window.HTMLElement) {\n\t    var _id2 = void 0;\n\t    if (selector.hasAttribute('xin-event-id')) {\n\t      _id2 = selector.getAttribute('xin-event-id');\n\t    } else {\n\t      _id2 = nextId();\n\t      selector.setAttribute('xin-event-id', _id2);\n\t    }\n\t    selector = '[xin-event-id=\"' + _id2 + '\"]';\n\t  }\n\t\n\t  var id = this.id;\n\t  var i = void 0;\n\t\n\t  function _getGlobalCallback(type) {\n\t    return function (e) {\n\t      _handleEvent(id, e, type);\n\t    };\n\t  }\n\t\n\t  for (i = 0; i < events.length; i++) {\n\t    if (remove) {\n\t      _removeHandler(this, events[i], selector, callback);\n\t      continue;\n\t    }\n\t\n\t    if (!_handlers[id] || !_handlers[id][events[i]]) {\n\t      EventDelegator.addEvent(this, events[i], _getGlobalCallback(events[i]));\n\t    }\n\t\n\t    _addHandler(this, events[i], selector, callback);\n\t  }\n\t\n\t  return this;\n\t}\n\t\n\t/**\n\t * EventDelegator object constructor\n\t *\n\t * @param {Node} element\n\t */\n\tfunction EventDelegator(element, id) {\n\t  // called as function\n\t  if (!(this instanceof EventDelegator)) {\n\t    // only keep one EventDelegator instance per node to make sure that\n\t    // we don't create a ton of new objects if you want to delegate\n\t    // multiple events from the same node\n\t    //\n\t    // for example: EventDelegator(document).on(...\n\t    for (var key in _delegatorInstances) {\n\t      if (_delegatorInstances[key].element === element) {\n\t        return _delegatorInstances[key];\n\t      }\n\t    }\n\t\n\t    _id++;\n\t    _delegatorInstances[_id] = new EventDelegator(element, _id);\n\t\n\t    return _delegatorInstances[_id];\n\t  }\n\t\n\t  this.element = element;\n\t  this.id = id;\n\t}\n\t\n\t/**\n\t * adds an event\n\t *\n\t * @param {string|Array} events\n\t * @param {string} selector\n\t * @param {Function} callback\n\t * @returns {Object}\n\t */\n\tEventDelegator.prototype.on = function (events, selector, callback) {\n\t  return _bind.call(this, events, selector, callback);\n\t};\n\t\n\t/**\n\t * removes an event\n\t *\n\t * @param {string|Array} events\n\t * @param {string} selector\n\t * @param {Function} callback\n\t * @returns {Object}\n\t */\n\tEventDelegator.prototype.off = function (events, selector, callback) {\n\t  return _bind.call(this, events, selector, callback, true);\n\t};\n\t\n\tEventDelegator.matchesSelector = function () {};\n\tEventDelegator.cancel = _cancel;\n\tEventDelegator.addEvent = _addEvent;\n\tEventDelegator.matchesEvent = function () {\n\t  return true;\n\t};\n\t\n\tif (typeof module !== 'undefined' && module.exports) {\n\t  module.exports = EventDelegator;\n\t}\n\t\n\texports.default = EventDelegator;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tfunction serialize(value) {\n\t  switch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\n\t    case 'boolean':\n\t      return value ? '' : undefined;\n\t\n\t    case 'object':\n\t      if (value instanceof Date) {\n\t        return value;\n\t      } else if (value) {\n\t        try {\n\t          return JSON.stringify(value);\n\t        } catch (err) {\n\t          return '';\n\t        }\n\t      }\n\t      break;\n\t    default:\n\t    // noop\n\t  }\n\t  return value === null ? undefined : value;\n\t}\n\t\n\tfunction deserialize(value, type) {\n\t  switch (type) {\n\t    case Number:\n\t      value = Number(value);\n\t      break;\n\t\n\t    case Boolean:\n\t      value = Boolean(value === '' || value === 'true' || value === '1' || value === 'on');\n\t      break;\n\t\n\t    case Object:\n\t      try {\n\t        value = JSON.parse(value);\n\t      } catch (err) {\n\t        // allow non-JSON literals like Strings and Numbers\n\t        // console.warn('Failed decode json: \"' + value + '\" to Object');\n\t      }\n\t      break;\n\t\n\t    case Array:\n\t      try {\n\t        value = JSON.parse(value);\n\t      } catch (err) {\n\t        // .console.warn('Failed decode json: \"' + value + '\" to Array');\n\t        value = null;\n\t      }\n\t      break;\n\t\n\t    case Date:\n\t      value = new Date(value);\n\t      break;\n\t\n\t    case Function:\n\t      value = new Function(value); // eslint-disable-line\n\t      break;\n\t\n\t    // behave like default for now\n\t    // case String:\n\t    default:\n\t      break;\n\t  }\n\t  return value;\n\t}\n\t\n\texports.serialize = serialize;\n\texports.deserialize = deserialize;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tvar SLOT_SUPPORTED = typeof window === 'undefined' ? false : 'HTMLUnknownElement' in window && !(document.createElement('slot') instanceof window.HTMLUnknownElement);\n\t\n\tfunction slotName(element) {\n\t  return SLOT_SUPPORTED ? element.name : element.getAttribute('name');\n\t}\n\t\n\tfunction slotAppend(slot, node, root) {\n\t  if (!slot.__slotHasChildren) {\n\t    slot.__slotHasChildren = true;\n\t    slot.__slotFallbackContent = [].concat(_toConsumableArray(slot.childNodes));\n\t    while (slot.firstChild) {\n\t      slot.removeChild(slot.firstChild);\n\t    }\n\t  }\n\t\n\t  if (node instanceof window.Node) {\n\t    slot.appendChild(node);\n\t  } else {\n\t    node.forEach(function (node) {\n\t      return slot.appendChild(node);\n\t    });\n\t  }\n\t}\n\t\n\t// function elementSlot (element) {\n\t//   return SLOT_SUPPORTED ? element.slot : element.getAttribute('slot');\n\t// }\n\t\n\texports.slotName = slotName;\n\texports.slotAppend = slotAppend;\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// t.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3a413ced4449eb1156e9","import Expr from './expr';\nimport Binding from './binding';\nimport Accessor from './accessor';\nimport Annotation from './annotation';\nimport Filter from './filter';\nimport Token from './token';\nimport Event from './event';\nimport { deserialize } from './serializer';\nimport { slotName, slotAppend } from './slot';\n\nlet templateId = 0;\nfunction nextId () {\n  return templateId++;\n}\n\nfunction fixTemplate (template) {\n  if (!template.content && window.HTMLTemplateElement && window.HTMLTemplateElement.decorate) {\n    window.HTMLTemplateElement.decorate(template);\n  }\n  return template;\n}\n\nfunction T (template, host, marker) {\n  this.__templateInitialize(template, host, marker);\n  this.__templateRender();\n}\n\nT.prototype = {\n  get $ () {\n    return this.__templateHost.getElementsByTagName('*');\n  },\n\n  $$ (selector) {\n    return this.querySelector(selector);\n  },\n\n  on () {\n    Event(this.__templateHost).on(...arguments);\n  },\n\n  off () {\n    Event(this.__templateHost).off(...arguments);\n  },\n\n  all (obj) {\n    for (let i in obj) {\n      if (obj.hasOwnProperty(i)) {\n        this.set(i, obj[i]);\n      }\n    }\n  },\n\n  get (path) {\n    let object = this;\n\n    this.__templateGetPathAsArray(path).some(segment => {\n      if (object === undefined || object === null) {\n        object = undefined;\n        return true;\n      }\n\n      object = object[segment];\n      return false;\n    });\n\n    return object;\n  },\n\n  set (path, value) {\n    path = this.__templateGetPathAsArray(path);\n\n    let oldValue = this.get(path);\n\n    if (value === oldValue) {\n      return;\n    }\n\n    let object = this;\n\n    path.slice(0, -1).forEach(segment => {\n      if (!object) {\n        return;\n      }\n      if (object[segment] === undefined || object[segment] === null) {\n        object[segment] = {};\n      }\n\n      object = object[segment];\n    });\n\n    let property = path.slice(-1).pop();\n\n    object[property] = value;\n\n    this.notify(path, value);\n  },\n\n  notify (path, value) {\n    path = this.__templateGetPathAsString(path);\n\n    if (!this.__templateReady) {\n      if (this.__templateNotifyOnReady.indexOf(path) === -1) {\n        this.__templateNotifyOnReady.push(path);\n      }\n      return;\n    }\n\n    try {\n      let binding = this.__templateGetBinding(path);\n      if (binding) {\n        if (typeof value === 'undefined') {\n          value = this.get(path);\n        }\n\n        binding.walkEffect(value);\n      }\n    } catch (err) {\n      console.warn(`#notify caught error: ${err.message}\\n Stack trace: ${err.stack}`);\n    }\n  },\n\n  __templateInitialize (template, host, marker) {\n    this.__templateId = nextId();\n    this.__templateBindings = {};\n    this.__templateHost = host || (template ? template.parentElement : null);\n    this.__templateMarker = marker;\n\n    this.__templateReady = false;\n    this.__templateNotifyOnReady = [];\n\n    if (!template) {\n      return;\n    }\n\n    // do below only if template is exists\n    this.__template = fixTemplate(template);\n    this.__templateChildNodes = [];\n\n    this.__templateFragment = document.importNode(this.__template.content, true);\n    this.__parseAnnotations();\n\n    if (marker) {\n      return;\n    }\n\n    if (this.__template.parentElement === this.__templateHost) {\n      // when template parent is template host, it means that template is specific template\n      // then use template as marker\n      this.__templateMarker = this.__template;\n    } else {\n      // when template is not child of host, put marker to host\n      this.__templateMarker = document.createComment(`marker-${this.__templateId}`);\n      this.__templateHost.appendChild(this.__templateMarker);\n    }\n  },\n\n  __templateRender (contentFragment) {\n    this.__templateReady = true;\n\n    if (!this.__template) {\n      return;\n    }\n\n    this.__templateNotifyOnReady.forEach(key => this.notify(key, this.get(key)));\n    this.__templateNotifyOnReady = [];\n\n    let fragment = this.__templateFragment;\n    this.__templateFragment = null;\n\n    if (contentFragment && contentFragment instanceof window.DocumentFragment) {\n      try {\n        [].forEach.call(fragment.querySelectorAll('slot'), slot => {\n          let name = slotName(slot);\n          let node = name ? contentFragment.querySelectorAll(`[slot=\"${name}\"]`) : contentFragment;\n          slotAppend(slot, node, fragment);\n        });\n      } catch (err) {\n        console.error(err.stack);\n        throw err;\n      }\n    }\n\n    this.__templateMarker.parentElement.insertBefore(fragment, this.__templateMarker);\n  },\n\n  // __templateUninitialize () {\n  //   this.__templateChildNodes.forEach(node => {\n  //     node.parentElement.removeChild(node);\n  //   });\n  // },\n\n  __templateGetPathAsArray (path) {\n    // if (!path) {\n    //   throw new Error(`Unknown path ${path} to set to ${this.is}`);\n    // }\n\n    if (typeof path !== 'string') {\n      return path;\n    }\n\n    return path.split('.');\n  },\n\n  __templateGetPathAsString (path) {\n    if (typeof path === 'string') {\n      return path;\n    }\n\n    return path.join('.');\n  },\n\n  __parseAnnotations () {\n    this.__templateChildNodes = [ ...this.__templateFragment.childNodes ];\n\n    let len = this.__templateChildNodes.length;\n\n    for (let i = 0; i < len; i++) {\n      let node = this.__templateChildNodes[i];\n\n      switch (node.nodeType) {\n        case window.Node.ELEMENT_NODE:\n          this.__parseElementAnnotations(node);\n          break;\n        case window.Node.TEXT_NODE:\n          this.__parseTextAnnotations(node);\n          break;\n      }\n    }\n  },\n\n  __parseEventAnnotations (element, attrName) {\n    // bind event annotation\n    let attrValue = element.getAttribute(attrName);\n    let eventName = attrName.slice(1, -1);\n    // let eventName = attrName.substr(3);\n    if (eventName === 'tap') {\n      eventName = 'click';\n    }\n\n    let context = this;\n    let expr = Expr.getFn(attrValue, [], true);\n\n    this.on(eventName, element, evt => {\n      expr.invoke(context, { evt });\n    });\n  },\n\n  __parseAttributeAnnotations (element) {\n    // clone attributes to array first then foreach because we will remove\n    // attribute later if already processed\n    // this hack to make sure when attribute removed the attributes index doesnt shift.\n    let annotated = false;\n\n    let len = element.attributes.length;\n\n    for (let i = 0; i < len; i++) {\n      let attr = element.attributes[i];\n\n      let attrName = attr.name;\n\n      if (attrName.indexOf('(') === 0) {\n        this.__parseEventAnnotations(element, attrName);\n      } else {\n        // bind property annotation\n        annotated = this.__templateAnnotate(Expr.get(attr.value), Accessor.get(element, attrName)) || annotated;\n      }\n    }\n\n    return annotated;\n  },\n\n  __parseElementAnnotations (element) {\n    let annotated = false;\n\n    let scoped = element.__templateModel;\n\n    if (scoped) {\n      return annotated;\n    }\n\n    element.__templateModel = this;\n\n    if (element.attributes && element.attributes.length) {\n      annotated = this.__parseAttributeAnnotations(element) || annotated;\n    }\n\n    if (element.childNodes && element.childNodes.length) {\n      let childNodes = [].slice.call(element.childNodes);\n      let childNodesLength = childNodes.length;\n\n      for (let i = 0; i < childNodesLength; i++) {\n        annotated = this.__parseNodeAnnotations(childNodes[i]) || annotated;\n      }\n    }\n\n    [].forEach.call(element.getElementsByTagName('slot'), slot => {\n      [].forEach.call(slot.childNodes, node => {\n        annotated = this.__parseNodeAnnotations(node) || annotated;\n      });\n    });\n\n    return annotated;\n  },\n\n  __parseNodeAnnotations (node) {\n    switch (node.nodeType) {\n      case window.Node.TEXT_NODE:\n        return this.__parseTextAnnotations(node);\n      case window.Node.ELEMENT_NODE:\n        return this.__parseElementAnnotations(node);\n    }\n  },\n\n  __parseTextAnnotations (node) {\n    let expr = Expr.get(node.textContent);\n    let accessor = Accessor.get(node);\n    return this.__templateAnnotate(expr, accessor);\n  },\n\n  __templateAnnotate (expr, accessor) {\n    if (expr.type === 's') {\n      return false;\n    }\n\n    if (expr.constant) {\n      let val = expr.invoke(this);\n      accessor.set(val);\n      return false;\n    }\n\n    // annotate every paths\n    let annotation = new Annotation(this, expr, accessor);\n\n    if (expr.type === 'm') {\n      this.__templateGetBinding(expr.fn.name).annotations.push(annotation);\n    }\n\n    expr.vpaths.forEach(arg => this.__templateGetBinding(arg.name).annotations.push(annotation));\n\n    return true;\n  },\n\n  __templateGetBinding (path) {\n    let segments = path.split('.');\n    let bindings;\n    let binding;\n\n    for (let i = 0; i < segments.length; i++) {\n      let segment = segments[i];\n\n      bindings = binding ? binding.paths : this.__templateBindings;\n\n      if (!bindings[segment]) {\n        bindings[segment] = new Binding(this, segment);\n      }\n\n      binding = bindings[segment];\n    }\n\n    return binding;\n  },\n};\n\nT.Filter = Filter;\nT.Accessor = Accessor;\nT.Token = Token;\nT.Expr = Expr;\nT.Event = Event;\nT.deserialize = deserialize;\n\nwindow.T = T;\n\nexport default T;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import Token from './token';\nimport Filter from './filter';\n\nconst CACHE = {\n  's': {\n    '[': new Map(),\n    '{': new Map(),\n  },\n  'v': {\n    '[': new Map(),\n    '{': new Map(),\n  },\n};\n\nfunction _get (value, mode, type) {\n  let cache = CACHE[type][mode];\n  if (cache.has(value)) {\n    return cache.get(value);\n  }\n\n  let expr = new Expr(value, mode, type);\n  if (type !== 's') {\n    cache.set(value, expr);\n  }\n\n  return expr;\n}\n\nclass Expr {\n  static get CACHE () {\n    return CACHE;\n  }\n\n  static get (value, unwrapped) {\n    value = (value || '').trim();\n\n    if (unwrapped) {\n      return _get(value, '[', 'v');\n    }\n\n    let mode = value[0];\n    if ((mode === '[' || mode === '{') && value[1] === mode) {\n      value = value.slice(2, -2).trim();\n      return _get(value, mode, 'v');\n    }\n\n    return _get(value, '[', 's');\n  }\n\n  static getFn (value, args, unwrapped) {\n    return Expr.get(value.indexOf('(') === -1 ? `${value}(${args.join(', ')})` : value, unwrapped);\n  }\n\n  static rawTokenize (str) {\n    let count = 0;\n    let tokens = [];\n\n    while (str && count++ < 10) {\n      let matches = str.match(/^\\s*(\"[^\"]*\"|[^,]+),?/);\n\n      str = str.substr(matches[0].length);\n      tokens.push(matches[1].trim());\n    }\n\n    return tokens;\n  }\n\n  static tokenize (str) {\n    return Expr.rawTokenize(str).map(token => Token.get(token));\n  }\n\n  constructor (value, mode, type) {\n    // define base properties\n    this.mode = mode;\n    this.type = type;\n    this.name = '';\n    this.args = [];\n    this.filters = [];\n    this.value = value;\n\n    if (type === 's') {\n      return;\n    }\n\n    let tokens = value.split('|');\n    let token = tokens[0].trim();\n\n    this.filters = tokens.slice(1).map(word => {\n      return Filter.get(word.trim());\n    });\n\n    if (token.indexOf('(') < 0) {\n      this.type = 'p';\n      this.name = token;\n      this.args.push(Token.get(token));\n    } else {\n      // force mode to '[' when type is !p\n      this.mode = '[';\n      this.type = 'm';\n\n      let matches = token.match(/([^(]+)\\(([^)]*)\\)/);\n\n      this.name = matches[1].trim();\n      this.fn = Token.get(this.name);\n\n      this.args = Expr.tokenize(matches[2]);\n    }\n  }\n\n  get constant () {\n    return this.type !== 'm' && this.vpaths.length !== this.args.length;\n  }\n\n  get vpaths () {\n    if (!this._vpaths) {\n      let paths = [];\n      this.args.forEach(arg => {\n        if (arg.type === 'v' && paths.indexOf(arg.name) === -1) {\n          paths.push(arg);\n        }\n      });\n      this._vpaths = paths;\n    }\n\n    return this._vpaths;\n  }\n\n  invoke (context, otherArgs) {\n    if (this.type === 'p') {\n      let val = this.args[0].value(context, otherArgs);\n      return this.filters.reduce((val, filter) => filter.invoke(val), val);\n    }\n\n    let fn = this.fn.value(context, context.__templateHost);\n    if (typeof fn !== 'function') {\n      throw new Error(`Method is not eligible, ${context.__templateHost.nodeName || '$anonymous'}#${this.name}`);\n    }\n\n    let args = this.args.map(arg => {\n      return arg.value(context, otherArgs);\n    });\n\n    return fn.apply(context, args);\n  }\n}\n\nexport default Expr;\n\n\n\n// WEBPACK FOOTER //\n// ./src/expr.js","const CACHE = new Map();\n\nclass Token {\n  static get CACHE () {\n    return CACHE;\n  }\n\n  static get (name) {\n    if (CACHE.has(name)) {\n      return CACHE.get(name);\n    }\n\n    let token = new Token(name);\n    CACHE.set(name, token);\n    return token;\n  }\n\n  constructor (name) {\n    this.name = name;\n    try {\n      this._value = JSON.parse(this.name);\n      this.type = 's';\n    } catch (err) {\n      this._value = null;\n      this.type = 'v';\n    }\n  }\n\n  value (context, others) {\n    context = context || window;\n\n    if (this.type === 's') {\n      return this._value;\n    }\n\n    let val = valueOf(context, this.name);\n    if (typeof val !== 'undefined') {\n      return val;\n    }\n\n    val = valueOf(others, this.name);\n    if (typeof val !== 'undefined') {\n      return val;\n    }\n\n    return;\n  }\n}\n\nfunction valueOf (context, key) {\n  if (context) {\n    return typeof context.get === 'function' ? context.get(key) : context[key];\n  }\n}\n\nexport default Token;\n\n\n\n// WEBPACK FOOTER //\n// ./src/token.js","class Filter {\n  constructor (name, callback, otherArgs) {\n    this.name = name;\n    this.callback = callback;\n    this.otherArgs = otherArgs;\n  }\n\n  invoke (val) {\n    let args = [val];\n    [].push.apply(args, this.otherArgs);\n    return this.callback.apply(null, args);\n  }\n\n  static put (name, callback) {\n    registry[name] = callback;\n  }\n\n  static get (name) {\n    let segments = name.split(':');\n    let args = segments.splice(1);\n    let key = segments.pop();\n    return new Filter(key, registry[key], args);\n  }\n}\n\nconst registry = {\n  required: (val) => {\n    if (val === undefined || val === null || val === '') {\n      throw new Error('Value is required');\n    }\n    return val;\n  },\n  upper: (val) => String.prototype.toUpperCase.call(val || ''),\n  lower: (val) => String.prototype.toLowerCase.call(val || ''),\n  not: (val) => !val,\n  slice: (val, begin, end) => Array.prototype.slice.call(val || [], begin, end),\n};\n\nexport default Filter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/filter.js","class Binding {\n  constructor (context, model) {\n    this.context = context;\n    this.model = model;\n    this.paths = {};\n    this.annotations = [];\n  }\n\n  walkEffect (value) {\n    this.annotations.forEach(annotation => {\n      // try {\n      annotation.effect(value, this.model);\n      // } catch (err) {\n      //   console.error(`Error caught while walk effect annotation: ${annotation.expr ? annotation.expr.value : '#unknown'}\\n ${err.stack}`);\n      // }\n    });\n\n    Object.keys(this.paths).forEach(i => {\n      this.paths[i].walkEffect(value ? value[i] : undefined);\n    });\n  }\n}\n\nexport default Binding;\n\n\n\n// WEBPACK FOOTER //\n// ./src/binding.js","class BaseAccessor {\n  static get (node, name) {\n    if (node && 'nodeType' in node) {\n      switch (node.nodeType) {\n        case window.Node.ELEMENT_NODE:\n          if (name.endsWith('$')) {\n            return new AttributeAccessor(node, name);\n          } else if (name === 'text') {\n            return new TextAccessor(node);\n          } else if (name === 'html') {\n            return new HTMLAccessor(node, name);\n          } else if (name === 'value' && node.nodeName === 'INPUT') {\n            return new ValueAccessor(node);\n          }\n\n          if (name.startsWith('class.')) {\n            return new ClassAccessor(node, name.split('.').splice(1).join('.'));\n          } else if (name.startsWith('style.')) {\n            return new StyleAccessor(node, name.split('.').splice(1).join('.'));\n          }\n\n          return new BaseAccessor(node, name);\n        case window.Node.TEXT_NODE:\n          if (node.parentElement && node.parentElement.nodeName === 'TEXTAREA') {\n            return new ValueAccessor(node.parentElement);\n          }\n\n          return new TextAccessor(node);\n        default:\n          throw new Error(`Unimplemented resolving accessor for nodeType: ${node.nodeType}`);\n      }\n    } else {\n      return new BaseAccessor(node, name);\n    }\n  }\n\n  constructor (node, name) {\n    this.node = node;\n    this.name = name;\n  }\n\n  set (value) {\n    if (typeof this.node.set === 'function') {\n      this.node.set(this.name, value);\n    } else {\n      this.node[this.name] = value;\n    }\n  }\n\n  get () {\n    if (typeof this.node.get === 'function') {\n      return this.node.get(this.name);\n    } else {\n      return this.node[this.name];\n    }\n  }\n}\n\nclass TextAccessor extends BaseAccessor {\n  constructor (node) {\n    super(node, 'textContent');\n  }\n\n  set (value) {\n    this.node.textContent = typeof value === 'undefined' ? '' : value;\n  }\n}\n\nclass ClassAccessor extends BaseAccessor {\n  set (value) {\n    if (value) {\n      this.node.classList.add(this.name);\n    } else {\n      this.node.classList.remove(this.name);\n    }\n  }\n\n  get () {\n    throw new Error('Unimplemented');\n  }\n}\n\nclass StyleAccessor extends BaseAccessor {\n  set (value) {\n    this.node.style[this.name] = value || '';\n  }\n\n  get () {\n    throw new Error('Unimplemented');\n  }\n}\n\nclass HTMLAccessor extends BaseAccessor {\n  set (value) {\n    this.node.innerHTML = typeof value === 'undefined' ? '' : value;\n  }\n\n  get () {\n    return this.node.innerHTML;\n  }\n}\n\nclass ValueAccessor extends BaseAccessor {\n  constructor (node) {\n    super(node, 'value');\n  }\n\n  set (value) {\n    if (document.activeElement !== this.node) {\n      super.set(typeof value === 'undefined' ? '' : value);\n    }\n  }\n}\n\nclass AttributeAccessor extends BaseAccessor {\n  constructor (node, name) {\n    super(node, name.slice(0, -1));\n  }\n\n  set (value) {\n    if (value) {\n      this.node.setAttribute(this.name, value);\n    } else {\n      this.node.removeAttribute(this.name);\n    }\n  }\n\n  get () {\n    return this.node.getAttribute(this.name);\n  }\n}\n\nexport default BaseAccessor;\n\n\n\n// WEBPACK FOOTER //\n// ./src/accessor.js","class Annotation {\n  constructor (model, expr, accessor) {\n    this.model = model;\n    this.expr = expr;\n    this.accessor = accessor;\n  }\n\n  effect (value) {\n    if (this.accessor) {\n      let value = this.expr.invoke(this.model);\n      // FIXME implement composite annotation\n      this.accessor.set(value);\n    } else {\n      this.expr.invoke(this.model);\n    }\n  }\n}\n\nexport default Annotation;\n\n\n\n// WEBPACK FOOTER //\n// ./src/annotation.js","let _matcher;\nlet _level = 0;\nlet _id = 0;\nlet _handlers = {};\nlet _delegatorInstances = {};\n\nfunction _addEvent (delegator, type, callback) {\n    // blur and focus do not bubble up but if you use event capturing\n    // then you will get them\n  let useCapture = type === 'blur' || type === 'focus';\n  delegator.element.addEventListener(type, callback, useCapture);\n}\n\nfunction _cancel (e) {\n  e.preventDefault();\n  e.stopPropagation();\n}\n\n/**\n * returns function to use for determining if an element\n * matches a query selector\n *\n * @returns {Function}\n */\nfunction _getMatcher (element) {\n  if (_matcher) {\n    return _matcher;\n  }\n\n  if (element.matches) {\n    _matcher = element.matches;\n    return _matcher;\n  }\n\n  if (element.webkitMatchesSelector) {\n    _matcher = element.webkitMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.mozMatchesSelector) {\n    _matcher = element.mozMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.msMatchesSelector) {\n    _matcher = element.msMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.oMatchesSelector) {\n    _matcher = element.oMatchesSelector;\n    return _matcher;\n  }\n\n    // if it doesn't match a native browser method\n    // fall back to the delegator function\n  _matcher = EventDelegator.matchesSelector;\n  return _matcher;\n}\n\n/**\n * determines if the specified element matches a given selector\n *\n * @param {Node} element - the element to compare against the selector\n * @param {string} selector\n * @param {Node} boundElement - the element the listener was attached to\n * @returns {void|Node}\n */\nfunction _matchesSelector (element, selector, boundElement) {\n    // no selector means this event was bound directly to this element\n  if (selector === '_root') {\n    return boundElement;\n  }\n\n    // if we have moved up to the element you bound the event to\n    // then we have come too far\n  if (element === boundElement) {\n    return;\n  }\n\n    // if this is a match then we are done!\n  if (_getMatcher(element).call(element, selector)) {\n    return element;\n  }\n\n    // if this element did not match but has a parent we should try\n    // going up the tree to see if any of the parent elements match\n    // for example if you are looking for a click on an <a> tag but there\n    // is a <span> inside of the a tag that it is the target,\n    // it should still work\n  if (element.parentNode) {\n    _level++;\n    return _matchesSelector(element.parentNode, selector, boundElement);\n  }\n}\n\nfunction _addHandler (delegator, event, selector, callback) {\n  if (!_handlers[delegator.id]) {\n    _handlers[delegator.id] = {};\n  }\n\n  if (!_handlers[delegator.id][event]) {\n    _handlers[delegator.id][event] = {};\n  }\n\n  if (!_handlers[delegator.id][event][selector]) {\n    _handlers[delegator.id][event][selector] = [];\n  }\n\n  _handlers[delegator.id][event][selector].push(callback);\n}\n\nfunction _removeHandler (delegator, event, selector, callback) {\n    // if there are no events tied to this element at all\n    // then don't do anything\n  if (!_handlers[delegator.id]) {\n    return;\n  }\n\n    // if there is no event type specified then remove all events\n    // example: EventDelegator(element).off()\n  if (!event) {\n    for (let type in _handlers[delegator.id]) {\n      if (_handlers[delegator.id].hasOwnProperty(type)) {\n        _handlers[delegator.id][type] = {};\n      }\n    }\n    return;\n  }\n\n    // if no callback or selector is specified remove all events of this type\n    // example: EventDelegator(element).off('click')\n  if (!callback && !selector) {\n    _handlers[delegator.id][event] = {};\n    return;\n  }\n\n    // if a selector is specified but no callback remove all events\n    // for this selector\n    // example: EventDelegator(element).off('click', '.sub-element')\n  if (!callback) {\n    delete _handlers[delegator.id][event][selector];\n    return;\n  }\n\n    // if we have specified an event type, selector, and callback then we\n    // need to make sure there are callbacks tied to this selector to\n    // begin with.  if there aren't then we can stop here\n  if (!_handlers[delegator.id][event][selector]) {\n    return;\n  }\n\n    // if there are then loop through all the callbacks and if we find\n    // one that matches remove it from the array\n  for (let i = 0; i < _handlers[delegator.id][event][selector].length; i++) {\n    if (_handlers[delegator.id][event][selector][i] === callback) {\n      _handlers[delegator.id][event][selector].splice(i, 1);\n      break;\n    }\n  }\n}\n\nfunction _handleEvent (id, e, type) {\n  if (!_handlers[id][type]) {\n    return;\n  }\n\n  let target = e.target || e.srcElement;\n  let selector;\n  let match;\n  let matches = {};\n  let i = 0;\n  let j = 0;\n\n    // find all events that match\n  _level = 0;\n  for (selector in _handlers[id][type]) {\n    if (_handlers[id][type].hasOwnProperty(selector)) {\n      match = _matchesSelector(target, selector, _delegatorInstances[id].element);\n\n      if (match && EventDelegator.matchesEvent(type, _delegatorInstances[id].element, match, selector === '_root', e)) {\n        _level++;\n        _handlers[id][type][selector].match = match;\n        matches[_level] = _handlers[id][type][selector];\n      }\n    }\n  }\n\n    // stopPropagation() fails to set cancelBubble to true in Webkit\n    // @see http://code.google.com/p/chromium/issues/detail?id=162270\n  e.stopPropagation = function () {\n    e.cancelBubble = true;\n  };\n\n  for (i = 0; i <= _level; i++) {\n    if (matches[i]) {\n      for (j = 0; j < matches[i].length; j++) {\n        if (matches[i][j].call(matches[i].match, e) === false) {\n          EventDelegator.cancel(e);\n          return;\n        }\n\n        if (e.cancelBubble) {\n          return;\n        }\n      }\n    }\n  }\n}\n\nlet id = 0;\nfunction nextId () {\n  return id++;\n}\n\n/**\n * binds the specified events to the element\n *\n * @param {string|Array} events\n * @param {string} selector\n * @param {Function} callback\n * @param {boolean=} remove\n * @returns {Object}\n */\nfunction _bind (events, selector, callback, remove) {\n    // fail silently if you pass null or undefined as an alement\n    // in the EventDelegator constructor\n  if (!this.element) {\n    return;\n  }\n\n  if (!(events instanceof Array)) {\n    events = [events];\n  }\n\n  if (!callback && typeof (selector) === 'function') {\n    callback = selector;\n    selector = '_root';\n  }\n\n  if (selector instanceof window.HTMLElement) {\n    let id;\n    if (selector.hasAttribute('xin-event-id')) {\n      id = selector.getAttribute('xin-event-id');\n    } else {\n      id = nextId();\n      selector.setAttribute('xin-event-id', id);\n    }\n    selector = `[xin-event-id=\"${id}\"]`;\n  }\n\n  let id = this.id;\n  let i;\n\n  function _getGlobalCallback (type) {\n    return function (e) {\n      _handleEvent(id, e, type);\n    };\n  }\n\n  for (i = 0; i < events.length; i++) {\n    if (remove) {\n      _removeHandler(this, events[i], selector, callback);\n      continue;\n    }\n\n    if (!_handlers[id] || !_handlers[id][events[i]]) {\n      EventDelegator.addEvent(this, events[i], _getGlobalCallback(events[i]));\n    }\n\n    _addHandler(this, events[i], selector, callback);\n  }\n\n  return this;\n}\n\n/**\n * EventDelegator object constructor\n *\n * @param {Node} element\n */\nfunction EventDelegator (element, id) {\n    // called as function\n  if (!(this instanceof EventDelegator)) {\n        // only keep one EventDelegator instance per node to make sure that\n        // we don't create a ton of new objects if you want to delegate\n        // multiple events from the same node\n        //\n        // for example: EventDelegator(document).on(...\n    for (let key in _delegatorInstances) {\n      if (_delegatorInstances[key].element === element) {\n        return _delegatorInstances[key];\n      }\n    }\n\n    _id++;\n    _delegatorInstances[_id] = new EventDelegator(element, _id);\n\n    return _delegatorInstances[_id];\n  }\n\n  this.element = element;\n  this.id = id;\n}\n\n/**\n * adds an event\n *\n * @param {string|Array} events\n * @param {string} selector\n * @param {Function} callback\n * @returns {Object}\n */\nEventDelegator.prototype.on = function (events, selector, callback) {\n  return _bind.call(this, events, selector, callback);\n};\n\n/**\n * removes an event\n *\n * @param {string|Array} events\n * @param {string} selector\n * @param {Function} callback\n * @returns {Object}\n */\nEventDelegator.prototype.off = function (events, selector, callback) {\n  return _bind.call(this, events, selector, callback, true);\n};\n\nEventDelegator.matchesSelector = function () {};\nEventDelegator.cancel = _cancel;\nEventDelegator.addEvent = _addEvent;\nEventDelegator.matchesEvent = function () {\n  return true;\n};\n\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = EventDelegator;\n}\n\nexport default EventDelegator;\n\n\n\n// WEBPACK FOOTER //\n// ./src/event.js","function serialize (value) {\n  switch (typeof value) {\n    case 'boolean':\n      return value ? '' : undefined;\n\n    case 'object':\n      if (value instanceof Date) {\n        return value;\n      } else if (value) {\n        try {\n          return JSON.stringify(value);\n        } catch (err) {\n          return '';\n        }\n      }\n      break;\n    default:\n      // noop\n  }\n  return value === null ? undefined : value;\n}\n\nfunction deserialize (value, type) {\n  switch (type) {\n    case Number:\n      value = Number(value);\n      break;\n\n    case Boolean:\n      value = Boolean(value === '' || value === 'true' || value === '1' || value === 'on');\n      break;\n\n    case Object:\n      try {\n        value = JSON.parse(value);\n      } catch (err) {\n        // allow non-JSON literals like Strings and Numbers\n        // console.warn('Failed decode json: \"' + value + '\" to Object');\n      }\n      break;\n\n    case Array:\n      try {\n        value = JSON.parse(value);\n      } catch (err) {\n        // .console.warn('Failed decode json: \"' + value + '\" to Array');\n        value = null;\n      }\n      break;\n\n    case Date:\n      value = new Date(value);\n      break;\n\n    case Function:\n      value = new Function(value); // eslint-disable-line\n      break;\n\n    // behave like default for now\n    // case String:\n    default:\n      break;\n  }\n  return value;\n}\n\nexport { serialize, deserialize };\n\n\n\n// WEBPACK FOOTER //\n// ./src/serializer.js","const SLOT_SUPPORTED = (typeof window === 'undefined')\n  ? false\n  : 'HTMLUnknownElement' in window && !(document.createElement('slot') instanceof window.HTMLUnknownElement);\n\nfunction slotName (element) {\n  return SLOT_SUPPORTED ? element.name : element.getAttribute('name');\n}\n\nfunction slotAppend (slot, node, root) {\n  if (!slot.__slotHasChildren) {\n    slot.__slotHasChildren = true;\n    slot.__slotFallbackContent = [...slot.childNodes];\n    while (slot.firstChild) {\n      slot.removeChild(slot.firstChild);\n    }\n  }\n\n  if (node instanceof window.Node) {\n    slot.appendChild(node);\n  } else {\n    node.forEach(node => slot.appendChild(node));\n  }\n}\n\n// function elementSlot (element) {\n//   return SLOT_SUPPORTED ? element.slot : element.getAttribute('slot');\n// }\n\nexport { slotName, slotAppend };\n\n\n\n// WEBPACK FOOTER //\n// ./src/slot.js"],"sourceRoot":""}