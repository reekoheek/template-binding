{"version":3,"sources":["webpack:///webpack/bootstrap 01eac5a8cc86018bbd07","webpack:///./accessor.js","webpack:///./annotation.js","webpack:///./binding.js","webpack:///./expr.js","webpack:///./helpers/slot.js","webpack:///./helpers/template.js","webpack:///./~/event-helper/index.js","webpack:///./filter.js","webpack:///./token.js","webpack:///./index.js"],"names":["BaseAccessor","node","name","nodeType","window","Node","ELEMENT_NODE","endsWith","AttributeAccessor","TextAccessor","HTMLAccessor","nodeName","ValueAccessor","startsWith","ClassAccessor","split","splice","join","StyleAccessor","TEXT_NODE","parentElement","Error","console","warn","value","set","get","textContent","classList","add","remove","style","innerHTML","document","activeElement","slice","setAttribute","removeAttribute","getAttribute","Annotation","model","expr","accessor","invoke","Binding","context","paths","annotations","forEach","annotation","effect","Object","keys","i","walkEffect","undefined","CACHE","Map","_get","mode","type","cache","has","Expr","unwrapped","trim","args","indexOf","str","count","tokens","matches","match","substr","length","push","rawTokenize","map","token","filters","word","fn","tokenize","otherArgs","val","reduce","filter","__templateHost","arg","apply","vpaths","_vpaths","SLOT_SUPPORTED","createElement","HTMLUnknownElement","slotName","element","fix","template","content","HTMLTemplateElement","decorate","Filter","callback","registry","segments","key","pop","required","upper","String","prototype","toUpperCase","call","lower","toLowerCase","not","begin","end","Array","Token","_value","JSON","parse","err","others","valueOf","templateId","nextId","T","host","marker","__templateInitialize","__templateRender","$","getElementsByTagName","$$","selector","querySelector","on","arguments","off","once","all","obj","hasOwnProperty","path","object","__templateGetPathAsArray","some","segment","oldValue","property","notify","values","result","__templateGetPathAsString","__templateReady","__templateNotifyOnReady","binding","__templateGetBinding","__templateId","__templateBindings","__templateMarker","__template","__templateChildNodes","__templateFragment","importNode","__parseAnnotations","createComment","appendChild","contentFragment","fragment","DocumentFragment","querySelectorAll","slot","parent","insertBefore","removeChild","__templateUninitialize","childNodes","len","__parseElementAnnotations","__parseTextAnnotations","__parseEventAnnotations","attrName","attrValue","eventName","getFn","evt","__parseAttributeAnnotations","annotated","attributes","attr","log","__templateAnnotate","scoped","__templateModel","childNodesLength","__parseNodeAnnotations","constant","bindings"],"mappings":"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O0F,kBAAnD,CAFF;AAID,CATsB,EAAvB;;AAWA,SAASC,QAAT,CAAmBC,OAAnB,EAA4B;AAC1B,SAAOJ,iBAAiBI,QAAQ9F,IAAzB,GAAgC8F,QAAQ1D,YAAR,CAAqB,MAArB,CAAvC;AACD;;QAEQyD,Q,GAAAA,Q;;;;;;;;;;;;ACfT,SAASE,GAAT,CAAcC,QAAd,EAAwB;AACtB,MAAI,CAACA,SAASC,OAAV,IAAqB/F,OAAOgG,mBAA5B,IAAmDhG,OAAOgG,mBAAP,CAA2BC,QAAlF,EAA4F;AAC1FjG,WAAOgG,mBAAP,CAA2BC,QAA3B,CAAoCH,QAApC;AACD;AACD,SAAOA,QAAP;AACD;;QAEQD,G,GAAAA,G;;;;;;;ACPT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,KAAK;AAChB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,qDAAqD;AACtE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,aAAa,aAAa;AAC1B;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,kCAAkC,GAAG;AACrC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA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","file":"t.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 01eac5a8cc86018bbd07","// FIXME create new class PropertyAccessor and use inflector to convert name\n// from dashify to camelize\nclass BaseAccessor {\n  static get (node, name) {\n    if (node && 'nodeType' in node) {\n      switch (node.nodeType) {\n        case window.Node.ELEMENT_NODE:\n          if (name.endsWith('$')) {\n            return new AttributeAccessor(node, name);\n          } else if (name === 'text') {\n            return new TextAccessor(node);\n          } else if (name === 'html') {\n            return new HTMLAccessor(node, name);\n          } else if (name === 'value' && node.nodeName === 'INPUT') {\n            return new ValueAccessor(node);\n          }\n\n          if (name.startsWith('class.')) {\n            return new ClassAccessor(node, name.split('.').splice(1).join('.'));\n          } else if (name.startsWith('style.')) {\n            return new StyleAccessor(node, name.split('.').splice(1).join('.'));\n          }\n\n          return new BaseAccessor(node, name);\n        case window.Node.TEXT_NODE:\n          if (node.parentElement && node.parentElement.nodeName === 'TEXTAREA') {\n            return new ValueAccessor(node.parentElement);\n          }\n\n          return new TextAccessor(node);\n        default:\n          throw new Error(`Unimplemented resolving accessor for nodeType: ${node.nodeType}`);\n      }\n    } else {\n      console.warn('xxxx', node, name);\n      return new BaseAccessor(node, name);\n    }\n  }\n\n  constructor (node, name) {\n    this.node = node;\n    this.name = name;\n  }\n\n  set (value) {\n    if (typeof this.node.set === 'function') {\n      this.node.set(this.name, value);\n    } else {\n      this.node[this.name] = value;\n    }\n  }\n\n  get () {\n    if (typeof this.node.get === 'function') {\n      return this.node.get(this.name);\n    } else {\n      return this.node[this.name];\n    }\n  }\n}\n\nclass TextAccessor extends BaseAccessor {\n  constructor (node) {\n    super(node, 'textContent');\n  }\n\n  set (value) {\n    this.node.textContent = typeof value === 'undefined' ? '' : value;\n  }\n}\n\nclass ClassAccessor extends BaseAccessor {\n  set (value) {\n    if (value) {\n      this.node.classList.add(this.name);\n    } else {\n      this.node.classList.remove(this.name);\n    }\n  }\n\n  get () {\n    throw new Error('Unimplemented');\n  }\n}\n\nclass StyleAccessor extends BaseAccessor {\n  set (value) {\n    this.node.style[this.name] = value || '';\n  }\n\n  get () {\n    throw new Error('Unimplemented');\n  }\n}\n\nclass HTMLAccessor extends BaseAccessor {\n  set (value) {\n    this.node.innerHTML = typeof value === 'undefined' ? '' : value;\n  }\n\n  get () {\n    return this.node.innerHTML;\n  }\n}\n\nclass ValueAccessor extends BaseAccessor {\n  constructor (node) {\n    super(node, 'value');\n  }\n\n  set (value) {\n    if (document.activeElement !== this.node) {\n      super.set(typeof value === 'undefined' ? '' : value);\n    }\n  }\n}\n\nclass AttributeAccessor extends BaseAccessor {\n  constructor (node, name) {\n    super(node, name.slice(0, -1));\n  }\n\n  set (value) {\n    if (value) {\n      this.node.setAttribute(this.name, value);\n    } else {\n      this.node.removeAttribute(this.name);\n    }\n  }\n\n  get () {\n    return this.node.getAttribute(this.name);\n  }\n}\n\nexport default BaseAccessor;\n\n\n\n// WEBPACK FOOTER //\n// ./accessor.js","class Annotation {\n  constructor (model, expr, accessor) {\n    this.model = model;\n    this.expr = expr;\n    this.accessor = accessor;\n  }\n\n  effect (value) {\n    if (this.accessor) {\n      this.accessor.set(this.expr.invoke(this.model));\n    } else {\n      this.expr.invoke(this.model);\n    }\n  }\n}\n\nexport default Annotation;\n\n\n\n// WEBPACK FOOTER //\n// ./annotation.js","class Binding {\n  constructor (context, model) {\n    this.context = context;\n    this.model = model;\n    this.paths = {};\n    this.annotations = [];\n  }\n\n  walkEffect (value) {\n    this.annotations.forEach(annotation => {\n      // try {\n      annotation.effect(value/* , this.model */);\n      // } catch (err) {\n      //   console.error(`Error caught while walk effect annotation: ${annotation.expr ? annotation.expr.value : '#unknown'}\\n ${err.stack}`);\n      // }\n    });\n\n    Object.keys(this.paths).forEach(i => {\n      this.paths[i].walkEffect(value ? value[i] : undefined);\n    });\n  }\n}\n\nexport default Binding;\n\n\n\n// WEBPACK FOOTER //\n// ./binding.js","import Token from './token';\nimport Filter from './filter';\n\nconst CACHE = {\n  's': {\n    '[': new Map(),\n    '{': new Map(),\n  },\n  'v': {\n    '[': new Map(),\n    '{': new Map(),\n  },\n};\n\nfunction _get (value, mode, type) {\n  let cache = CACHE[type][mode];\n  if (cache.has(value)) {\n    return cache.get(value);\n  }\n\n  let expr = new Expr(value, mode, type);\n  if (type !== 's') {\n    cache.set(value, expr);\n  }\n\n  return expr;\n}\n\nclass Expr {\n  static get CACHE () {\n    return CACHE;\n  }\n\n  static get (value, unwrapped) {\n    value = (value || '').trim();\n\n    if (unwrapped) {\n      return _get(value, '[', 'v');\n    }\n\n    let mode = value[0];\n    if ((mode === '[' || mode === '{') && value[1] === mode) {\n      value = value.slice(2, -2).trim();\n      return _get(value, mode, 'v');\n    }\n\n    return _get(value, '[', 's');\n  }\n\n  static getFn (value, args, unwrapped) {\n    return Expr.get(value.indexOf('(') === -1 ? `${value}(${args.join(', ')})` : value, unwrapped);\n  }\n\n  static rawTokenize (str) {\n    let count = 0;\n    let tokens = [];\n\n    while (str && count++ < 10) {\n      let matches = str.match(/^\\s*(\"[^\"]*\"|[^,]+),?/);\n\n      str = str.substr(matches[0].length);\n      tokens.push(matches[1].trim());\n    }\n\n    return tokens;\n  }\n\n  static tokenize (str) {\n    return Expr.rawTokenize(str).map(token => Token.get(token));\n  }\n\n  constructor (value, mode, type) {\n    // define base properties\n    this.mode = mode;\n    this.type = type;\n    this.name = '';\n    this.args = [];\n    this.filters = [];\n    this.value = value;\n\n    if (type === 's') {\n      return;\n    }\n\n    let tokens = value.split('|');\n    let token = tokens[0].trim();\n\n    this.filters = tokens.slice(1).map(word => {\n      return Filter.get(word.trim());\n    });\n\n    if (token.indexOf('(') < 0) {\n      this.type = 'p';\n      this.name = token;\n      this.args.push(Token.get(token));\n    } else {\n      // force mode to '[' when type is !p\n      this.mode = '[';\n      this.type = 'm';\n\n      let matches = token.match(/([^(]+)\\(([^)]*)\\)/);\n\n      this.name = matches[1].trim();\n      this.fn = Token.get(this.name);\n\n      this.args = Expr.tokenize(matches[2]);\n    }\n  }\n\n  get constant () {\n    return this.type !== 'm' && this.vpaths.length !== this.args.length;\n  }\n\n  get vpaths () {\n    if (!this._vpaths) {\n      let paths = [];\n      this.args.forEach(arg => {\n        if (arg.type === 'v' && paths.indexOf(arg.name) === -1) {\n          paths.push(arg);\n        }\n      });\n      this._vpaths = paths;\n    }\n\n    return this._vpaths;\n  }\n\n  invoke (context, otherArgs) {\n    if (this.type === 'p') {\n      let val = this.args[0].value(context, otherArgs);\n      return this.filters.reduce((val, filter) => filter.invoke(val), val);\n    }\n\n    let fn = this.fn.value(context, context.__templateHost);\n    if (typeof fn !== 'function') {\n      throw new Error(`Method is not eligible, ${context.__templateHost.nodeName || '$anonymous'}#${this.name}`);\n    }\n\n    let args = this.args.map(arg => {\n      return arg.value(context, otherArgs);\n    });\n\n    return fn.apply(context, args);\n  }\n}\n\nexport default Expr;\n\n\n\n// WEBPACK FOOTER //\n// ./expr.js","const SLOT_SUPPORTED = (() => {\n  if (typeof window === 'undefined') {\n    return false;\n  }\n\n  return (\n    'HTMLUnknownElement' in window &&\n    !(document.createElement('slot') instanceof window.HTMLUnknownElement)\n  );\n})();\n\nfunction slotName (element) {\n  return SLOT_SUPPORTED ? element.name : element.getAttribute('name');\n}\n\nexport { slotName };\n\n\n\n// WEBPACK FOOTER //\n// ./helpers/slot.js","function fix (template) {\n  if (!template.content && window.HTMLTemplateElement && window.HTMLTemplateElement.decorate) {\n    window.HTMLTemplateElement.decorate(template);\n  }\n  return template;\n};\n\nexport { fix };\n\n\n\n// WEBPACK FOOTER //\n// ./helpers/template.js","let _matcher;\nlet _level = 0;\nlet _id = 0;\nlet _handlers = {};\nlet _delegatorInstances = {};\n\nfunction _addEvent (delegator, type, callback) {\n    // blur and focus do not bubble up but if you use event capturing\n    // then you will get them\n  let useCapture = type === 'blur' || type === 'focus';\n  delegator.element.addEventListener(type, callback, useCapture);\n}\n\nfunction _cancel (evt) {\n  evt.preventDefault();\n  evt.stopPropagation();\n}\n\n/**\n * returns function to use for determining if an element\n * matches a query selector\n *\n * @returns {Function}\n */\nfunction _getMatcher (element) {\n  if (_matcher) {\n    return _matcher;\n  }\n\n  if (element.matches) {\n    _matcher = element.matches;\n    return _matcher;\n  }\n\n  if (element.webkitMatchesSelector) {\n    _matcher = element.webkitMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.mozMatchesSelector) {\n    _matcher = element.mozMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.msMatchesSelector) {\n    _matcher = element.msMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.oMatchesSelector) {\n    _matcher = element.oMatchesSelector;\n    return _matcher;\n  }\n\n    // if it doesn't match a native browser method\n    // fall back to the delegator function\n  _matcher = Delegator.matchesSelector;\n  return _matcher;\n}\n\n/**\n * determines if the specified element matches a given selector\n *\n * @param {Node} element - the element to compare against the selector\n * @param {string} selector\n * @param {Node} boundElement - the element the listener was attached to\n * @returns {void|Node}\n */\nfunction _matchesSelector (element, selector, boundElement) {\n    // no selector means this event was bound directly to this element\n  if (selector === '_root') {\n    return boundElement;\n  }\n\n    // if we have moved up to the element you bound the event to\n    // then we have come too far\n  if (element === boundElement) {\n    return;\n  }\n\n    // if this is a match then we are done!\n  if (_getMatcher(element).call(element, selector)) {\n    return element;\n  }\n\n    // if this element did not match but has a parent we should try\n    // going up the tree to see if any of the parent elements match\n    // for example if you are looking for a click on an <a> tag but there\n    // is a <span> inside of the a tag that it is the target,\n    // it should still work\n  if (element.parentNode) {\n    _level++;\n    return _matchesSelector(element.parentNode, selector, boundElement);\n  }\n}\n\nfunction _addHandler (delegator, event, selector, callback) {\n  if (!_handlers[delegator.id]) {\n    _handlers[delegator.id] = {};\n  }\n\n  if (!_handlers[delegator.id][event]) {\n    _handlers[delegator.id][event] = {};\n  }\n\n  if (!_handlers[delegator.id][event][selector]) {\n    _handlers[delegator.id][event][selector] = [];\n  }\n\n  _handlers[delegator.id][event][selector].push(callback);\n}\n\nfunction _removeHandler (delegator, event, selector, callback) {\n    // if there are no events tied to this element at all\n    // then don't do anything\n  if (!_handlers[delegator.id]) {\n    return;\n  }\n\n    // if there is no event type specified then remove all events\n    // example: Delegator(element).off()\n  if (!event) {\n    for (let type in _handlers[delegator.id]) {\n      if (_handlers[delegator.id].hasOwnProperty(type)) {\n        _handlers[delegator.id][type] = {};\n      }\n    }\n    return;\n  }\n\n    // if no callback or selector is specified remove all events of this type\n    // example: Delegator(element).off('click')\n  if (!callback && !selector) {\n    _handlers[delegator.id][event] = {};\n    return;\n  }\n\n    // if a selector is specified but no callback remove all events\n    // for this selector\n    // example: Delegator(element).off('click', '.sub-element')\n  if (!callback) {\n    delete _handlers[delegator.id][event][selector];\n    return;\n  }\n\n    // if we have specified an event type, selector, and callback then we\n    // need to make sure there are callbacks tied to this selector to\n    // begin with.  if there aren't then we can stop here\n  if (!_handlers[delegator.id][event][selector]) {\n    return;\n  }\n\n    // if there are then loop through all the callbacks and if we find\n    // one that matches remove it from the array\n  for (let i = 0; i < _handlers[delegator.id][event][selector].length; i++) {\n    if (_handlers[delegator.id][event][selector][i] === callback) {\n      _handlers[delegator.id][event][selector].splice(i, 1);\n      break;\n    }\n  }\n}\n\nfunction _handleEvent (id, e, type) {\n  if (!_handlers[id][type]) {\n    return;\n  }\n\n  let target = e.target || e.srcElement;\n  let selector;\n  let match;\n  let matches = {};\n  let i = 0;\n  let j = 0;\n\n    // find all events that match\n  _level = 0;\n  for (selector in _handlers[id][type]) {\n    if (_handlers[id][type].hasOwnProperty(selector)) {\n      match = _matchesSelector(target, selector, _delegatorInstances[id].element);\n\n      if (match && Delegator.matchesEvent(type, _delegatorInstances[id].element, match, selector === '_root', e)) {\n        _level++;\n        _handlers[id][type][selector].match = match;\n        matches[_level] = _handlers[id][type][selector];\n      }\n    }\n  }\n\n    // stopPropagation() fails to set cancelBubble to true in Webkit\n    // @see http://code.google.com/p/chromium/issues/detail?id=162270\n  e.stopPropagation = function () {\n    e.cancelBubble = true;\n  };\n\n  for (i = 0; i <= _level; i++) {\n    if (matches[i]) {\n      for (j = 0; j < matches[i].length; j++) {\n        if (matches[i][j].call(matches[i].match, e) === false) {\n          Delegator.cancel(e);\n          return;\n        }\n\n        if (e.cancelBubble) {\n          return;\n        }\n      }\n    }\n  }\n}\n\nlet id = 0;\nfunction nextId () {\n  return id++;\n}\n\nconst aliases = new Map();\nconst aliasesDefaultTranslator = name => ([ name ]);\nconst aliasesTranslators = {\n  transitionend (name) {\n    let el = document.createElement('fakeelement');\n    let transitions = {\n      'OTransition': 'oTransitionEnd',\n      'MozTransition': 'transitionend',\n      'WebkitTransition': 'webkitTransitionEnd',\n      'transition': 'transitionend',\n    };\n\n    for (let t in transitions) {\n      if (el.style[t] !== undefined) {\n        return [transitions[t]];\n      }\n    }\n  },\n};\n\nfunction _aliases (name) {\n  let theAliases;\n  if (aliases.has(name)) {\n    theAliases = aliases.get(name);\n  } else {\n    let translator = aliasesTranslators[name] || aliasesDefaultTranslator;\n    theAliases = translator(name);\n    aliases.set(name, theAliases);\n  }\n\n  return theAliases;\n}\n\n/**\n * binds the specified events to the element\n *\n * @param {string|Array} events\n * @param {string} selector\n * @param {Function} callback\n * @param {boolean=} remove\n * @returns {Object}\n */\nfunction _bind (events, selector, callback, remove) {\n    // fail silently if you pass null or undefined as an alement\n    // in the Delegator constructor\n  if (!this.element) {\n    return;\n  }\n\n  if (!(events instanceof Array)) {\n    events = [events];\n  }\n\n  if (!callback && typeof (selector) === 'function') {\n    callback = selector;\n    selector = '_root';\n  }\n\n  if (selector instanceof window.HTMLElement) {\n    let id;\n    if (selector.hasAttribute('bind-event-id')) {\n      id = selector.getAttribute('bind-event-id');\n    } else {\n      id = nextId();\n      selector.setAttribute('bind-event-id', id);\n    }\n    selector = `[bind-event-id=\"${id}\"]`;\n  }\n\n  let id = this.id;\n  let i;\n\n  function _getGlobalCallback (type) {\n    return function (e) {\n      _handleEvent(id, e, type);\n    };\n  }\n\n  for (i = 0; i < events.length; i++) {\n    _aliases(events[i]).forEach(alias => {\n      // console.info('> ' + events[i] + ':' + alias);\n      if (remove) {\n        _removeHandler(this, alias, selector, callback);\n        return;\n      }\n\n      if (!_handlers[id] || !_handlers[id][alias]) {\n        Delegator.addEvent(this, alias, _getGlobalCallback(alias));\n      }\n\n      _addHandler(this, alias, selector, callback);\n    });\n  }\n\n  return this;\n}\n\n/**\n * Delegator object constructor\n *\n * @param {Node} element\n */\nfunction Delegator (element, id) {\n  this.element = element;\n  this.id = id;\n}\n\n/**\n * adds an event\n *\n * @param {string|Array} events\n * @param {string} selector\n * @param {Function} callback\n * @returns {Object}\n */\nDelegator.prototype.on = function (events, selector, callback) {\n  return _bind.call(this, events, selector, callback);\n};\n\n/**\n * removes an event\n *\n * @param {string|Array} events\n * @param {string} selector\n * @param {Function} callback\n * @returns {Object}\n */\nDelegator.prototype.off = function (events, selector, callback) {\n  return _bind.call(this, events, selector, callback, true);\n};\n\nDelegator.prototype.once = function (events, selector, callback) {\n  if (!callback && typeof (selector) === 'function') {\n    callback = selector;\n    selector = '_root';\n  }\n\n  const proxyCallback = (...args) => {\n    this.off(events, selector, proxyCallback);\n    return callback(...args);\n  };\n\n  return this.on(events, selector, proxyCallback);\n};\n\nDelegator.prototype.fire = function (type, detail, options) {\n  options = options || {};\n  detail = detail || {};\n\n  let evt;\n  let bubbles = options.bubbles === undefined ? true : options.bubbles;\n  let cancelable = Boolean(options.cancelable);\n\n  switch (type) {\n    case 'click':\n      evt = new window.Event(type, {\n        bubbles: bubbles,\n        cancelable: cancelable,\n      });\n\n      // TODO check if without this works on every browsers\n      // evt = document.createEvent('HTMLEvents');\n      // evt.initEvent(type, true, false);\n      break;\n    default:\n      evt = new window.CustomEvent(type, {\n        bubbles: Boolean(bubbles),\n        cancelable: cancelable,\n        detail: detail,\n      });\n      break;\n  }\n\n  this.element.dispatchEvent(evt);\n\n  return evt;\n};\n\nDelegator.matchesSelector = function () {};\nDelegator.cancel = _cancel;\nDelegator.addEvent = _addEvent;\nDelegator.aliases = _aliases;\nDelegator.matchesEvent = function () {\n  return true;\n};\n\nfunction eventHelper (element) {\n  // only keep one Delegator instance per node to make sure that\n  // we don't create a ton of new objects if you want to delegate\n  // multiple events from the same node\n  //\n  // for example: eventHelper(document).on(...\n  for (let key in _delegatorInstances) {\n    if (_delegatorInstances[key].element === element) {\n      return _delegatorInstances[key];\n    }\n  }\n\n  _id++;\n  _delegatorInstances[_id] = new Delegator(element, _id);\n\n  return _delegatorInstances[_id];\n}\n\nexport default eventHelper;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/event-helper/index.js\n// module id = 6\n// module chunks = 0","class Filter {\n  constructor (name, callback, otherArgs) {\n    this.name = name;\n    this.callback = callback;\n    this.otherArgs = otherArgs;\n  }\n\n  invoke (val) {\n    let args = [val];\n    [].push.apply(args, this.otherArgs);\n    return this.callback.apply(null, args);\n  }\n\n  static put (name, callback) {\n    registry[name] = callback;\n  }\n\n  static get (name) {\n    let segments = name.split(':');\n    let args = segments.splice(1);\n    let key = segments.pop();\n    return new Filter(key, registry[key], args);\n  }\n}\n\nconst registry = {\n  required: (val) => {\n    if (val === undefined || val === null || val === '') {\n      throw new Error('Value is required');\n    }\n    return val;\n  },\n  upper: (val) => String.prototype.toUpperCase.call(val || ''),\n  lower: (val) => String.prototype.toLowerCase.call(val || ''),\n  not: (val) => !val,\n  slice: (val, begin, end) => Array.prototype.slice.call(val || [], begin, end),\n};\n\nexport default Filter;\n\n\n\n// WEBPACK FOOTER //\n// ./filter.js","const CACHE = new Map();\n\nclass Token {\n  static get CACHE () {\n    return CACHE;\n  }\n\n  static get (name) {\n    if (CACHE.has(name)) {\n      return CACHE.get(name);\n    }\n\n    let token = new Token(name);\n    CACHE.set(name, token);\n    return token;\n  }\n\n  constructor (name) {\n    this.name = name;\n    this._value = null;\n    this.type = 'v';\n\n    if (!this.name.match(/^[a-zA-Z_]/)) {\n      try {\n        this._value = JSON.parse(this.name);\n        this.type = 's';\n      } catch (err) {\n      }\n    }\n  }\n\n  value (context, others) {\n    context = context || window;\n\n    if (this.type === 's') {\n      return this._value;\n    }\n\n    let val = valueOf(context, this.name);\n    if (typeof val !== 'undefined') {\n      return val;\n    }\n\n    val = valueOf(others, this.name);\n    if (typeof val !== 'undefined') {\n      return val;\n    }\n\n    return;\n  }\n}\n\nfunction valueOf (context, key) {\n  if (context) {\n    return typeof context.get === 'function' ? context.get(key) : context[key];\n  }\n}\n\nexport default Token;\n\n\n\n// WEBPACK FOOTER //\n// ./token.js","import eventHelper from 'event-helper';\n\nimport Expr from './expr';\nimport Binding from './binding';\nimport Accessor from './accessor';\nimport Annotation from './annotation';\n\nimport { fix } from './helpers/template';\nimport { slotName } from './helpers/slot';\n\n// new version will not export filter token and css modules\n// import Filter from './filter';\n// import Token from './token';\n// import Css from './css';\n\nlet templateId = 0;\nfunction nextId () {\n  return templateId++;\n}\n\nfunction T (template, host, marker) {\n  this.__templateInitialize(template, host, marker);\n  this.__templateRender();\n}\n\nT.prototype = {\n  get $ () {\n    return this.__templateHost.getElementsByTagName('*');\n  },\n\n  $$ (selector) {\n    return this.querySelector(selector);\n  },\n\n  on () {\n    eventHelper(this.__templateHost).on(...arguments);\n  },\n\n  off () {\n    eventHelper(this.__templateHost).off(...arguments);\n  },\n\n  once () {\n    eventHelper(this.__templateHost).once(...arguments);\n  },\n\n  all (obj) {\n    for (let i in obj) {\n      if (obj.hasOwnProperty(i)) {\n        this.set(i, obj[i]);\n      }\n    }\n  },\n\n  get (path) {\n    let object = this;\n\n    this.__templateGetPathAsArray(path).some(segment => {\n      if (object === undefined || object === null) {\n        object = undefined;\n        return true;\n      }\n\n      object = object[segment];\n      return false;\n    });\n\n    return object;\n  },\n\n  set (path, value) {\n    path = this.__templateGetPathAsArray(path);\n\n    let oldValue = this.get(path);\n\n    if (value === oldValue) {\n      return;\n    }\n\n    let object = this;\n\n    path.slice(0, -1).forEach(segment => {\n      if (!object) {\n        return;\n      }\n      if (object[segment] === undefined || object[segment] === null) {\n        object[segment] = {};\n      }\n\n      object = object[segment];\n    });\n\n    let property = path.slice(-1).pop();\n\n    object[property] = value;\n\n    this.notify(path, value);\n  },\n\n  push (path, ...values) {\n    path = this.__templateGetPathAsArray(path);\n\n    let object = this;\n\n    path.slice(0, -1).forEach(segment => {\n      if (!object) {\n        return;\n      }\n      if (object[segment] === undefined || object[segment] === null) {\n        object[segment] = {};\n      }\n\n      object = object[segment];\n    });\n\n    let property = path.slice(-1).pop();\n\n    let result = object[property].push(...values);\n\n    this.notify(path, object[property]);\n\n    return result;\n  },\n\n  pop (path) {\n    path = this.__templateGetPathAsArray(path);\n\n    let object = this;\n\n    path.slice(0, -1).forEach(segment => {\n      if (!object) {\n        return;\n      }\n      if (object[segment] === undefined || object[segment] === null) {\n        object[segment] = {};\n      }\n\n      object = object[segment];\n    });\n\n    let property = path.slice(-1).pop();\n\n    let result = object[property].pop();\n\n    this.notify(path, object[property]);\n\n    return result;\n  },\n\n  splice (path, ...args) {\n    path = this.__templateGetPathAsArray(path);\n\n    let object = this;\n\n    path.slice(0, -1).forEach(segment => {\n      if (!object) {\n        return;\n      }\n      if (object[segment] === undefined || object[segment] === null) {\n        object[segment] = {};\n      }\n\n      object = object[segment];\n    });\n\n    let property = path.slice(-1).pop();\n\n    let result = object[property].splice(...args);\n\n    this.notify(path, object[property]);\n\n    return result;\n  },\n\n  notify (path, value) {\n    path = this.__templateGetPathAsString(path);\n\n    if (!this.__templateReady) {\n      if (this.__templateNotifyOnReady.indexOf(path) === -1) {\n        this.__templateNotifyOnReady.push(path);\n      }\n      return;\n    }\n\n    // try {\n    let binding = this.__templateGetBinding(path);\n    if (binding) {\n      if (typeof value === 'undefined') {\n        value = this.get(path);\n      }\n\n      binding.walkEffect(value);\n    }\n    // } catch (err) {\n    //   console.warn(`#notify caught error: ${err.message}\\n Stack trace: ${err.stack}`);\n    // }\n  },\n\n  __templateInitialize (template, host, marker) {\n    this.__templateId = nextId();\n    this.__templateBindings = {};\n    this.__templateHost = host || (template ? template.parentElement : null);\n    this.__templateMarker = marker;\n\n    this.__templateReady = false;\n    this.__templateNotifyOnReady = [];\n\n    if (!template) {\n      return;\n    }\n\n    // do below only if template is exists\n    this.__template = fix(template);\n    this.__templateChildNodes = [];\n\n    this.__templateFragment = document.importNode(this.__template.content, true);\n    this.__parseAnnotations();\n\n    if (marker) {\n      return;\n    }\n\n    if (this.__template.parentElement === this.__templateHost) {\n      // when template parent is template host, it means that template is specific template\n      // then use template as marker\n      this.__templateMarker = this.__template;\n    } else {\n      // when template is not child of host, put marker to host\n      this.__templateMarker = document.createComment(`marker-${this.__templateId}`);\n      this.__templateHost.appendChild(this.__templateMarker);\n    }\n  },\n\n  __templateRender (contentFragment) {\n    this.__templateReady = true;\n\n    this.__templateNotifyOnReady.forEach(key => {\n      this.notify(key, this.get(key));\n    });\n    this.__templateNotifyOnReady = [];\n\n    if (!this.__template) {\n      return;\n    }\n\n    let fragment = this.__templateFragment;\n    this.__templateFragment = null;\n\n    if (contentFragment && contentFragment instanceof window.DocumentFragment) {\n      // try {\n      [].forEach.call(fragment.querySelectorAll('slot'), slot => {\n        let name = slotName(slot);\n        let parent = slot.parentElement || fragment;\n        let marker = document.createComment(`slot ${name}`);\n\n        parent.insertBefore(marker, slot);\n        parent.removeChild(slot);\n\n        if (name) {\n          let node = contentFragment.querySelectorAll(`[slot=\"${name}\"]`);\n          [].forEach.call(node, (node) => {\n            parent.insertBefore(node, marker);\n          });\n        } else {\n          parent.insertBefore(contentFragment, marker);\n        }\n      });\n    }\n\n    this.__templateMarker.parentElement.insertBefore(fragment, this.__templateMarker);\n  },\n\n  __templateUninitialize () {\n    this.__templateChildNodes.forEach(node => {\n      node.parentElement.removeChild(node);\n    });\n  },\n\n  __templateGetPathAsArray (path) {\n    // if (!path) {\n    //   throw new Error(`Unknown path ${path} to set to ${this.is}`);\n    // }\n\n    if (typeof path !== 'string') {\n      return path;\n    }\n\n    return path.split('.');\n  },\n\n  __templateGetPathAsString (path) {\n    if (typeof path === 'string') {\n      return path;\n    }\n\n    return path.join('.');\n  },\n\n  __parseAnnotations () {\n    this.__templateChildNodes = [ ...this.__templateFragment.childNodes ];\n\n    let len = this.__templateChildNodes.length;\n\n    for (let i = 0; i < len; i++) {\n      let node = this.__templateChildNodes[i];\n\n      switch (node.nodeType) {\n        case window.Node.ELEMENT_NODE:\n          this.__parseElementAnnotations(node);\n          break;\n        case window.Node.TEXT_NODE:\n          this.__parseTextAnnotations(node);\n          break;\n      }\n    }\n  },\n\n  __parseEventAnnotations (element, attrName) {\n    // bind event annotation\n    let attrValue = element.getAttribute(attrName);\n    let eventName = attrName.slice(1, -1);\n    // let eventName = attrName.substr(3);\n    if (eventName === 'tap') {\n      eventName = 'click';\n    }\n\n    let context = this;\n    let expr = Expr.getFn(attrValue, [], true);\n\n    this.on(eventName, element, evt => {\n      expr.invoke(context, { evt });\n    });\n  },\n\n  __parseAttributeAnnotations (element) {\n    // clone attributes to array first then foreach because we will remove\n    // attribute later if already processed\n    // this hack to make sure when attribute removed the attributes index doesnt shift.\n    let annotated = false;\n\n    let len = element.attributes.length;\n\n    for (let i = 0; i < len; i++) {\n      let attr = element.attributes[i];\n\n      let attrName = attr.name;\n\n      if (attrName === 'id' || attrName === 'class' || attrName === 'style') {\n        continue;\n      }\n\n      if (attrName.indexOf('(') === 0) {\n        this.__parseEventAnnotations(element, attrName);\n      } else {\n        if (attrName === 'api-key') {\n          console.log(this, attrName, attr.value, Expr.get(attr.value), Accessor.get(element, attrName));\n        }\n        // bind property annotation\n        annotated = this.__templateAnnotate(Expr.get(attr.value), Accessor.get(element, attrName)) || annotated;\n      }\n    }\n\n    return annotated;\n  },\n\n  __parseElementAnnotations (element) {\n    let annotated = false;\n\n    let scoped = element.__templateModel;\n\n    if (scoped) {\n      return annotated;\n    }\n\n    element.__templateModel = this;\n\n    if (element.attributes && element.attributes.length) {\n      annotated = this.__parseAttributeAnnotations(element) || annotated;\n    }\n\n    if (element.childNodes && element.childNodes.length) {\n      let childNodes = [].slice.call(element.childNodes);\n      let childNodesLength = childNodes.length;\n\n      for (let i = 0; i < childNodesLength; i++) {\n        annotated = this.__parseNodeAnnotations(childNodes[i]) || annotated;\n      }\n    }\n\n    [].forEach.call(element.getElementsByTagName('slot'), slot => {\n      [].forEach.call(slot.childNodes, node => {\n        annotated = this.__parseNodeAnnotations(node) || annotated;\n      });\n    });\n\n    return annotated;\n  },\n\n  __parseNodeAnnotations (node) {\n    switch (node.nodeType) {\n      case window.Node.TEXT_NODE:\n        return this.__parseTextAnnotations(node);\n      case window.Node.ELEMENT_NODE:\n        return this.__parseElementAnnotations(node);\n    }\n  },\n\n  __parseTextAnnotations (node) {\n    let expr = Expr.get(node.textContent);\n    let accessor = Accessor.get(node);\n    return this.__templateAnnotate(expr, accessor);\n  },\n\n  __templateAnnotate (expr, accessor) {\n    if (expr.type === 's') {\n      return false;\n    }\n\n    if (expr.constant) {\n      let val = expr.invoke(this);\n      accessor.set(val);\n      return false;\n    }\n\n    // annotate every paths\n    let annotation = new Annotation(this, expr, accessor);\n\n    if (expr.type === 'm') {\n      this.__templateGetBinding(expr.fn.name).annotations.push(annotation);\n    }\n\n    expr.vpaths.forEach(arg => this.__templateGetBinding(arg.name).annotations.push(annotation));\n\n    return true;\n  },\n\n  __templateGetBinding (path) {\n    let segments = path.split('.');\n    let bindings;\n    let binding;\n\n    for (let i = 0; i < segments.length; i++) {\n      let segment = segments[i];\n\n      bindings = binding ? binding.paths : this.__templateBindings;\n\n      if (!bindings[segment]) {\n        bindings[segment] = new Binding(this, segment);\n      }\n\n      binding = bindings[segment];\n    }\n\n    return binding;\n  },\n};\n\n// new version will not export filter token and css modules\n// T.Filter = Filter;\n// T.Accessor = Accessor;\n// T.Token = Token;\n// T.Expr = Expr;\n// T.Css = Css;\n\nwindow.T = T;\n\nexport default T;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js"],"sourceRoot":""}