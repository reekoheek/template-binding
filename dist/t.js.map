{"version":3,"sources":["webpack:///webpack/bootstrap 4fb2ffc22009a5f1f689","webpack:///./src/index.js","webpack:///./src/expr.js","webpack:///./src/token.js","webpack:///./src/filter.js","webpack:///./src/binding.js","webpack:///./src/accessor.js","webpack:///./src/annotation.js","webpack:///./src/serializer.js"],"names":["Expr","require","Filter","Binding","Accessor","Annotation","Token","Serializer","SLOT_SUPPORTED","window","document","createElement","HTMLUnknownElement","templateId","nextId","slotName","element","name","getAttribute","slotAppend","slot","node","root","__slotHasChildren","__slotFallbackContent","innerHTML","appendChild","elementSlot","fixTemplate","template","content","HTMLTemplateElement","decorate","T","host","marker","__templateInitialize","prototype","$","__templateHost","getElementsByTagName","__templateId","__templateBindings","parentElement","__templateMarker","__template","__templateFragment","importNode","__templateChildNodes","slice","call","childNodes","__parseAnnotations","createComment","$$","selector","querySelector","render","forEach","querySelectorAll","nodeType","Node","ELEMENT_NODE","err","console","error","stack","insertBefore","__templateUninitialize","removeChild","all","obj","i","hasOwnProperty","set","__templateGetPathAsArray","path","Error","is","split","__templateGetPathAsString","join","get","object","some","undefined","segment","value","oldValue","property","pop","notify","binding","__templateGetBinding","walkEffect","warn","message","len","length","__parseElementAnnotations","TEXT_NODE","__parseTextAnnotations","Object","keys","key","__parseEventAnnotations","attrName","attrValue","eventName","context","expr","getFn","addEventListener","evt","invoke","__parseAttributeAnnotations","attributes","reduce","annotated","attr","indexOf","__templateAnnotate","scoped","__templateModel","childNodesLength","__parseNodeAnnotations","textContent","accessor","nodeName","type","annotation","annotatedPaths","arg","annotations","push","segments","bindings","paths","module","exports","mode","args","filters","tokens","token","trim","map","word","matches","match","tokenize","otherArgs","val","filter","fn","apply","_annotatedPaths","CACHE","_get","unwrapped","rawTokenize","str","count","substr","GLOBAL","global","JSON","parse","_value","others","callback","registry","splice","required","upper","String","toUpperCase","lower","toLowerCase","not","begin","end","Array","model","effect","BaseAccessor","TextAccessor","ClassAccessor","classList","add","remove","StyleAccessor","style","HTMLAccessor","ValueAccessor","selectable","activeElement","AttributeAccessor","setAttribute","removeAttribute","endsWith","startsWith","serialize","Date","stringify","deserialize","Number","Boolean","log"],"mappings":"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","file":"t.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4fb2ffc22009a5f1f689\n **/","/* globals Node, HTMLUnknownElement */\nconst Expr = require('./expr');\nconst Filter = require('./filter');\nconst Binding = require('./binding');\nconst Accessor = require('./accessor');\nconst Annotation = require('./annotation');\nconst Token = require('./token');\nconst Serializer = require('./serializer');\n\nconst SLOT_SUPPORTED = 'HTMLUnknownElement' in window && !(document.createElement('slot') instanceof HTMLUnknownElement);\n\nlet templateId = 0;\n\nfunction nextId () {\n  return templateId++;\n}\n\nfunction slotName (element) {\n  return SLOT_SUPPORTED ? element.name : element.getAttribute('name');\n}\n\nfunction slotAppend (slot, node, root) {\n  if (!slot.__slotHasChildren) {\n    slot.__slotHasChildren = true;\n    slot.__slotFallbackContent = slot.innerHTML;\n    slot.innerHTML = '';\n  }\n\n  slot.appendChild(node);\n}\n\nfunction elementSlot (element) {\n  return SLOT_SUPPORTED ? element.slot : element.getAttribute('slot');\n}\n\nfunction fixTemplate (template) {\n  if (!template.content && window.HTMLTemplateElement && window.HTMLTemplateElement.decorate) {\n    window.HTMLTemplateElement.decorate(template);\n  }\n  return template;\n}\n\nfunction T (template, host, marker) {\n  this.__templateInitialize(template, host, marker);\n}\n\nT.prototype = {\n  get $ () {\n    return this.__templateHost.getElementsByTagName('*');\n  },\n\n  __templateInitialize (template, host, marker) {\n    this.__templateId = nextId();\n    this.__templateBindings = {};\n    this.__templateHost = host || (template ? template.parentElement : null);\n    this.__templateMarker = marker;\n\n    if (!template) {\n      return;\n    }\n\n    // do below only if template is exists\n    this.__template = fixTemplate(template);\n    this.__templateFragment = document.importNode(this.__template.content, true);\n    this.__templateChildNodes = [].slice.call(this.__templateFragment.childNodes);\n    this.__parseAnnotations();\n\n    if (marker) {\n      return;\n    }\n\n    if (this.__template.parentElement === this.__templateHost) {\n      // when template parent is template host, it means that template is specific template\n      // then use template as marker\n      this.__templateMarker = this.__template;\n    } else {\n      // when template is not child of host, put marker to host\n      this.__templateMarker = document.createComment(`marker-${this.__templateId}`);\n      this.__templateHost.appendChild(this.__templateMarker);\n    }\n  },\n\n  $$ (selector) {\n    return this.querySelector(selector);\n  },\n\n  render (content) {\n    if (!this.__template) {\n      return;\n    }\n\n    if (content) {\n      try {\n        [].forEach.call(this.__templateFragment.querySelectorAll('slot'), slot => {\n          let name = slotName(slot);\n          if (name) {\n            content.forEach(node => {\n              if (node.nodeType === Node.ELEMENT_NODE && name === elementSlot(node)) {\n                slotAppend(slot, node, this.__templateFragment);\n              }\n              // TODO query to childnodes looking for slot\n            });\n          } else {\n            content.forEach(node => {\n              slotAppend(slot, node, this.__templateFragment);\n            });\n          }\n        });\n      } catch (err) {\n        console.error(err.stack);\n        throw err;\n      }\n    }\n\n    this.__templateMarker.parentElement.insertBefore(this.__templateFragment, this.__templateMarker);\n  },\n\n  __templateUninitialize () {\n    this.__templateChildNodes.forEach(node => {\n      node.parentElement.removeChild(node);\n    });\n  },\n\n  all (obj) {\n    for (let i in obj) {\n      if (obj.hasOwnProperty(i)) {\n        this.set(i, obj[i]);\n      }\n    }\n  },\n\n  __templateGetPathAsArray (path) {\n    if (!path) {\n      throw new Error(`Unknown path ${path} to set to ${this.is}`);\n    }\n\n    if (typeof path !== 'string') {\n      return path;\n    }\n\n    return path.split('.');\n  },\n\n  __templateGetPathAsString (path) {\n    if (typeof path === 'string') {\n      return path;\n    }\n\n    return path.join('.');\n  },\n\n  get (path) {\n    let object = this;\n\n    this.__templateGetPathAsArray(path).some(segment => {\n      if (object === undefined || object === null) {\n        object = undefined;\n        return true;\n      }\n\n      object = object[segment];\n      return false;\n    });\n\n    return object;\n  },\n\n  set (path, value) {\n    path = this.__templateGetPathAsArray(path);\n\n    let oldValue = this.get(path);\n\n    if (value === oldValue) {\n      return;\n    }\n\n    let object = this;\n\n    path.slice(0, -1).forEach(segment => {\n      if (!object) {\n        return;\n      }\n      if (object[segment] === undefined || object[segment] === null) {\n        object[segment] = {};\n      }\n\n      object = object[segment];\n    });\n\n    let property = path.slice(-1).pop();\n\n    object[property] = value;\n\n    this.notify(path, value);\n  },\n\n  notify (path, value) {\n    path = this.__templateGetPathAsString(path);\n\n    // console.log(this.__getId(), '<notify>', path, '?', value, `<${typeof value}>`);\n\n    try {\n      let binding = this.__templateGetBinding(path);\n      if (binding) {\n        binding.walkEffect(value);\n      }\n    } catch (err) {\n      console.warn(`#notify caught error: ${err.message}\\n Stack trace: ${err.stack}`);\n    }\n  },\n\n  __parseAnnotations () {\n    // this.__templateAnnotatedElements = [];\n\n    let len = this.__templateFragment.childNodes.length;\n    for (let i = 0; i < len; i++) {\n      let node = this.__templateFragment.childNodes[i];\n      switch (node.nodeType) {\n        case Node.ELEMENT_NODE:\n          this.__parseElementAnnotations(node);\n          break;\n        case Node.TEXT_NODE:\n          this.__parseTextAnnotations(node);\n          break;\n      }\n    }\n\n    Object.keys(this.__templateBindings).forEach(key => {\n      this.notify(key, this.get(key));\n    });\n  },\n\n  __parseEventAnnotations (element, attrName) {\n    // bind event annotation\n    let attrValue = element.getAttribute(attrName);\n    let eventName = attrName.slice(1, -1);\n    // let eventName = attrName.substr(3);\n    if (eventName === 'tap') {\n      eventName = 'click';\n    }\n\n    let context = this;\n    let expr = Expr.getFn(attrValue, [], true);\n\n    // console.log(this, element);\n    // TODO might be slow or memory leak setting event listener to inside element\n    element.addEventListener(eventName, function (evt) {\n      return expr.invoke(context, { evt });\n    }, true);\n  },\n\n  __parseAttributeAnnotations (element) {\n    // clone attributes to array first then foreach because we will remove\n    // attribute later if already processed\n    // this hack to make sure when attribute removed the attributes index doesnt shift.\n    return [].slice.call(element.attributes).reduce((annotated, attr) => {\n      let attrName = attr.name;\n\n      if (attrName.indexOf('(') === 0) {\n        this.__parseEventAnnotations(element, attrName);\n      } else {\n        // bind property annotation\n        annotated = this.__templateAnnotate(Expr.get(attr.value), Accessor.get(element, attrName)) || annotated;\n      }\n\n      return annotated;\n    }, false);\n  },\n\n  __parseElementAnnotations (element) {\n    let annotated = false;\n    let scoped = element.__templateModel;\n\n    if (scoped) {\n      return annotated;\n    }\n\n    // element.classList.add(`${this.__templateHost.is || 'template'}__scope`);\n    element.__templateModel = this;\n\n    if (element.attributes && element.attributes.length) {\n      annotated = this.__parseAttributeAnnotations(element) || annotated;\n    }\n\n    if (element.childNodes && element.childNodes.length) {\n      let childNodes = [].slice.call(element.childNodes);\n      let childNodesLength = childNodes.length;\n\n      for (let i = 0; i < childNodesLength; i++) {\n        annotated = this.__parseNodeAnnotations(childNodes[i]) || annotated;\n      }\n    }\n\n    [].forEach.call(element.getElementsByTagName('slot'), slot => {\n      [].forEach.call(slot.childNodes, node => {\n        annotated = this.__parseNodeAnnotations(node) || annotated;\n      });\n    });\n\n    return annotated;\n  },\n\n  __parseNodeAnnotations (node) {\n    switch (node.nodeType) {\n      case Node.TEXT_NODE:\n        return this.__parseTextAnnotations(node);\n      case Node.ELEMENT_NODE:\n        return this.__parseElementAnnotations(node);\n    }\n  },\n\n  __parseTextAnnotations (node) {\n    let expr = Expr.get(node.textContent);\n\n    let accessor;\n    if (node.parentElement && node.parentElement.nodeName === 'TEXTAREA') {\n      accessor = Accessor.get(node.parentElement, 'value');\n    } else {\n      accessor = Accessor.get(node);\n    }\n\n    return this.__templateAnnotate(expr, accessor);\n  },\n\n  __templateAnnotate (expr, accessor) {\n    if (expr.type === 's') {\n      return false;\n    }\n\n    // annotate every paths\n    let annotation = new Annotation(this, expr, accessor);\n\n    expr.annotatedPaths.forEach(arg => this.__templateGetBinding(arg.name).annotations.push(annotation));\n\n    return true;\n  },\n\n  __templateGetBinding (path) {\n    let segments = path.split('.');\n    let bindings;\n    let binding;\n\n    for (let i = 0; i < segments.length; i++) {\n      let segment = segments[i];\n\n      bindings = binding ? binding.paths : this.__templateBindings;\n\n      if (!bindings[segment]) {\n        bindings[segment] = new Binding(this, segment);\n      }\n\n      binding = bindings[segment];\n    }\n\n    return binding;\n  },\n};\n\nif (typeof window === 'object') {\n  window.T = T;\n}\n\nmodule.exports = T;\nmodule.exports.Filter = Filter;\nmodule.exports.Accessor = Accessor;\nmodule.exports.Expr = Expr;\nmodule.exports.Token = Token;\nmodule.exports.Serializer = Serializer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","const Token = require('./token');\nconst Filter = require('./filter');\n\nclass Expr {\n  constructor (value, mode, type) {\n    // define base properties\n    this.mode = mode;\n    this.type = type;\n    this.name = '';\n    this.args = [];\n    this.filters = [];\n    this.value = value;\n    // this.unwrapped = Boolean(unwrapped);\n\n    // TODO support expr with function or others\n    // let valType = typeof value;\n    // if (valType === 'function') {\n    //   this.type = 'm';\n    //   return;\n    // } else if (valType !== 'string') {\n    //   // validate args\n    //   return;\n    // }\n\n    // cleanse value\n    // value = value.trim();\n\n    if (type === 's') {\n      return;\n    }\n\n    let tokens = value.split('|');\n    let token = tokens[0].trim();\n\n    this.filters = tokens.slice(1).map(word => {\n      return Filter.get(word.trim());\n    });\n\n    // if (!this.unwrapped) {\n    //   if (value[0] !== '[' && value[0] !== '{') {\n    //     return;\n    //   }\n    //   token = value.slice(2, -2).trim();\n    //   this.mode = value[0];\n    // }\n\n    if (token.indexOf('(') < 0) {\n      this.type = 'p';\n      this.name = token;\n      this.args.push(new Token(token));\n    } else {\n      // force mode to '[' when type is !p\n      this.mode = '[';\n      this.type = 'm';\n\n      let matches = token.match(/([^(]+)\\(([^)]*)\\)/);\n\n      this.name = matches[1].trim();\n\n      this.args = tokenize(matches[2]);\n    }\n  }\n\n  get annotatedPaths () {\n    if (!this._annotatedPaths) {\n      let annotatedPaths = [];\n      this.args.forEach(arg => {\n        if (arg.type === 'v' && annotatedPaths.indexOf(arg.name) === -1) {\n          annotatedPaths.push(arg);\n        }\n      });\n      this._annotatedPaths = annotatedPaths;\n    }\n\n    return this._annotatedPaths;\n  }\n\n  invoke (context, otherArgs) {\n    if (this.type === 'p') {\n      let val = typeof context.get === 'function' ? context.get(this.name) : context[this.name];\n      return this.filters.reduce((val, filter) => filter.invoke(val), val);\n    }\n\n    let fn = context.__templateHost[this.name];\n    if (typeof fn !== 'function') {\n      throw new Error(`Method is not eligible, ${context.__templateHost.nodeName || '$anonymous'}#${this.name}`);\n    }\n\n    let args = this.args.map(arg => {\n      return arg.value(context, otherArgs);\n    });\n\n    return fn.apply(context, args);\n  }\n}\n\nExpr.CACHE = {\n  '[s': new Expr('', '[', 's'),\n};\n\nfunction _get (value, mode, type) {\n  let key = value + mode + type;\n  let expr = Expr.CACHE[key];\n\n  if (!expr) {\n    expr = new Expr(value, mode, type);\n    if (type !== 's') {\n      Expr.CACHE[key] = expr;\n    }\n  }\n\n  return expr;\n}\n\nfunction get (value, unwrapped) {\n  value = (value || '').trim();\n\n  if (unwrapped) {\n    return _get(value, '[', 'v');\n  }\n\n  let mode = value[0];\n  if (mode === '[' || mode === '{') {\n    value = value.slice(2, -2).trim();\n    return _get(value, mode, 'v');\n  }\n\n  return _get(value, '[', 's');\n}\n\nfunction getFn (value, args, unwrapped) {\n  // if (typeof value === 'function') {\n  //   return get(value, unwrapped);\n  // }\n  return get(value.indexOf('(') === -1 ? (value + '(' + args.join(', ') + ')') : value, unwrapped);\n}\n\nfunction rawTokenize (str) {\n  let count = 0;\n  let tokens = [];\n\n  while (str && count++ < 10) {\n    let matches = str.match(/^\\s*(\"[^\"]*\"|[^,]+),?/);\n\n    str = str.substr(matches[0].length);\n    tokens.push(matches[1].trim());\n  }\n\n  return tokens;\n}\n\nfunction tokenize (str) {\n  return rawTokenize(str).map(token => new Token(token));\n}\n\nmodule.exports = Expr;\nmodule.exports.getFn = getFn;\nmodule.exports.get = get;\nmodule.exports.rawTokenize = rawTokenize;\nmodule.exports.tokenize = tokenize;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/expr.js\n **/","const GLOBAL = global || window;\n\nclass Token {\n  constructor (name) {\n    this.name = name;\n    try {\n      let value = JSON.parse(this.name);\n      this.type = 's';\n      this._value = value;\n    } catch (err) {\n      this.type = 'v';\n      this._value = null;\n    }\n  }\n\n  value (context, others) {\n    context = context || GLOBAL;\n\n    if (this.type === 's') {\n      return this._value;\n    }\n\n    if (context) {\n      let val = context.get ? context.get(this.name) : context[this.name];\n      if (typeof val !== 'undefined') {\n        return val;\n      }\n    }\n\n    if (others) {\n      let val = others.get ? others.get(this.name) : others[this.name];\n      if (typeof val !== 'undefined') {\n        return val;\n      }\n    }\n\n    return;\n  }\n}\n\nfunction get (name) {\n  // FIXME implement cache\n  return new Token(name);\n}\n\nmodule.exports = Token;\nmodule.exports.get = get;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/token.js\n **/","class Filter {\n  constructor (name, callback, otherArgs) {\n    this.name = name;\n    this.callback = callback;\n    this.otherArgs = otherArgs;\n  }\n\n  invoke (val) {\n    let args = [val];\n    [].push.apply(args, this.otherArgs);\n    return this.callback.apply(null, args);\n  }\n\n  static put (name, callback) {\n    registry[name] = callback;\n  }\n\n  static get (name) {\n    let segments = name.split(':');\n    let args = segments.splice(1);\n    let key = segments.pop();\n    return new Filter(key, registry[key], args);\n  }\n}\n\nconst registry = {\n  required: (val) => {\n    if (val === undefined || val === null || val === '') {\n      throw new Error('Value is required');\n    }\n    return val;\n  },\n  upper: (val) => String.prototype.toUpperCase.call(val || ''),\n  lower: (val) => String.prototype.toLowerCase.call(val || ''),\n  not: (val) => !val,\n  slice: (val, begin, end) => Array.prototype.slice.call(val || [], begin, end),\n};\n\nmodule.exports = Filter;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/filter.js\n **/","class Binding {\n  constructor (context, model) {\n    this.context = context;\n    this.model = model;\n    this.paths = {};\n    this.annotations = [];\n  }\n\n  walkEffect (value) {\n    this.annotations.forEach(annotation => {\n      try {\n        annotation.effect(value, this.model);\n      } catch (err) {\n        console.error(`Error caught while walk effect annotation: ${annotation.expr ? annotation.expr.value : '#unknown'}\\n ${err.stack}`);\n      }\n    });\n\n    Object.keys(this.paths).forEach(i => {\n      this.paths[i].walkEffect(value ? value[i] : undefined);\n    });\n  }\n}\n\nmodule.exports = Binding;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/binding.js\n **/","/* globals Node */\n\nclass BaseAccessor {\n  constructor (node, name) {\n    this.node = node;\n    this.name = name;\n  }\n\n  set (value) {\n    if (typeof this.node.set === 'function') {\n      this.node.set(this.name, value);\n    } else {\n      this.node[this.name] = value;\n    }\n  }\n\n  get () {\n    if (typeof this.node.get === 'function') {\n      return this.node.get(this.name);\n    } else {\n      return this.node[this.name];\n    }\n  }\n}\n\nclass TextAccessor extends BaseAccessor {\n  constructor (node) {\n    super(node, 'textContent');\n  }\n\n  set (value) {\n    this.node.textContent = typeof value === 'undefined' ? '' : value;\n  }\n}\n\nclass ClassAccessor extends BaseAccessor {\n  set (value) {\n    if (value) {\n      this.node.classList.add(this.name);\n    } else {\n      this.node.classList.remove(this.name);\n    }\n  }\n\n  get () {\n    throw new Error('Unimplemented');\n  }\n}\n\nclass StyleAccessor extends BaseAccessor {\n  set (value) {\n    this.node.style[this.name] = value || '';\n  }\n\n  get () {\n    throw new Error('Unimplemented');\n  }\n}\n\nclass HTMLAccessor extends BaseAccessor {\n  set (value) {\n    this.node.innerHTML = typeof value === 'undefined' ? '' : value;\n  }\n\n  get () {\n    return this.node.innerHTML;\n  }\n}\n\nclass ValueAccessor extends BaseAccessor {\n  constructor (node) {\n    super(node, 'value');\n  }\n\n  set (value) {\n    var selectable = document.activeElement === this.node;\n    if (!selectable) {\n      super.set(typeof value === 'undefined' ? '' : value);\n    }\n    //  &&\n    //   this.node.nodeName === 'INPUT' && (\n    //       this.node.type !== 'email' &&\n    //       this.node.type !== 'range' &&\n    //       this.node.type !== 'checkbox'\n    //       );\n    //\n    // var selStart;\n    // var selEnd;\n    // if (selectable) {\n    //   selStart = this.node.selectionStart;\n    //   selEnd = this.node.selectionEnd;\n    // }\n    //\n    // this.node[this.name] = value === undefined ? '' : value;\n    //\n    // if (selectable) {\n    //   this.node.setSelectionRange(selStart, selEnd);\n    //\n    //   // does not work well with below\n    //   // this.context.selectionStart = selStart;\n    //   // this.context.selectionEnd = selStart;\n    // }\n    // super.set(typeof value === 'undefined' ? '' : value);\n  }\n}\n\nclass AttributeAccessor extends BaseAccessor {\n  constructor (node, name) {\n    super(node, name.slice(0, -1));\n  }\n\n  set (value) {\n    if (value) {\n      this.node.setAttribute(this.name, value);\n    } else {\n      this.node.removeAttribute(this.name);\n    }\n  }\n\n  get () {\n    return this.node.getAttribute(this.name);\n  }\n}\n\nfunction get (node, name) {\n  if (node && 'nodeType' in node) {\n    switch (node.nodeType) {\n      case Node.ELEMENT_NODE:\n        if (name.endsWith('$')) {\n          return new AttributeAccessor(node, name);\n        } else if (name === 'text') {\n          return new TextAccessor(node);\n        } else if (name === 'html') {\n          return new HTMLAccessor(node, name);\n        } else if (name === 'value' && node.nodeName === 'INPUT') {\n          return new ValueAccessor(node);\n        }\n\n        if (name.startsWith('class.')) {\n          return new ClassAccessor(node, name.split('.').splice(1).join('.'));\n        } else if (name.startsWith('style.')) {\n          return new StyleAccessor(node, name.split('.').splice(1).join('.'));\n        }\n\n        return new BaseAccessor(node, name);\n      case Node.TEXT_NODE:\n        if (node.parentElement && node.parentElement.nodeName === 'TEXTAREA') {\n          return new ValueAccessor(node.parentElement);\n        }\n\n        return new TextAccessor(node);\n      default:\n        throw new Error(`Unimplemented resolving accessor for nodeType: ${node.nodeType}`);\n    }\n  } else {\n    return new BaseAccessor(node, name);\n  }\n}\n\nmodule.exports = BaseAccessor;\nmodule.exports.get = get;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/accessor.js\n **/","class Annotation {\n  constructor (model, expr, accessor) {\n    this.model = model;\n    this.expr = expr;\n    this.accessor = accessor;\n  }\n\n  effect (value) {\n    if (this.accessor) {\n      let value = this.expr.invoke(this.model);\n      // FIXME implement composite annotation\n      // FIXME implement filtered annotation\n      // FIXME implement function type annotation\n      this.accessor.set(value);\n    } else {\n      this.expr.invoke(this.model);\n    }\n  }\n}\n\nmodule.exports = Annotation;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/annotation.js\n **/","function serialize (value) {\n  switch (typeof value) {\n    case 'boolean':\n      return value ? '' : undefined;\n\n    case 'object':\n      if (value instanceof Date) {\n        return value;\n      } else if (value) {\n        try {\n          return JSON.stringify(value);\n        } catch (err) {\n          return '';\n        }\n      }\n      break;\n    default:\n      // noop\n  }\n  return value === null ? undefined : value;\n}\n\nfunction deserialize (value, type) {\n  switch (type) {\n    case Number:\n      value = Number(value);\n      break;\n\n    case Boolean:\n      value = Boolean(value === '' || value === 'true' || value === '1' || value === 'on');\n      break;\n\n    case Object:\n      try {\n        value = JSON.parse(value);\n      } catch (err) {\n        // allow non-JSON literals like Strings and Numbers\n        // console.warn('Failed decode json: \"' + value + '\" to Object');\n      }\n      break;\n\n    case Array:\n      try {\n        value = JSON.parse(value);\n      } catch (err) {\n        // .console.warn('Failed decode json: \"' + value + '\" to Array');\n        value = null;\n      }\n      break;\n\n    case Date:\n      console.log('>>>', value);\n      value = new Date(value);\n      break;\n\n    // behave like default for now\n    // case String:\n    default:\n      break;\n  }\n  return value;\n}\n\nmodule.exports.serialize = serialize;\nmodule.exports.deserialize = deserialize;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/serializer.js\n **/"],"sourceRoot":""}